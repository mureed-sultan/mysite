{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,0BAA0B;AAChD,sBAAsB,qEAAqE;AAC3F,sBAAsB,sDAAsD;AAC5E,sBAAsB,iCAAiC;AACvD,sBAAsB,uCAAuC;AAC7D,sBAAsB,iCAAiC;AACvD,sBAAsB,+BAA+B;AACrD,sBAAsB,iCAAiC;AACvD,sBAAsB,kCAAkC;AACxD,sBAAsB,iCAAiC;AACvD,sBAAsB,oBAAoB,EAAE,eAAe,EAAE,eAAe;AAC5E,sBAAsB,wBAAwB;AAC9C,sBAAsB,wBAAwB;AAC9C,sBAAsB,+CAA+C;AACrE,sBAAsB,uIAAuI;AAC7J;;AAEA;;AAEA;AACA;AACA,wDAAwD,uBAAuB;AAC/E;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,wBAAwB;AACxB;;AAEA;;AAEA;;AAEA;AACA;;AAEA,yBAAyB;AACzB,yBAAyB;AACzB,yBAAyB;;AAEzB,sCAAsC;AACtC,oCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB,OAAO;AACpD,MAAM;AACN;AACA;;AAEA;AACA,oBAAoB,OAAO;AAC3B;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2DAA2D;AAC3D;;AAEA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,aAAa,mEAAmE;AAChF;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;;AAEA;;AAEA;AACA,wCAAwC;AACxC,gCAAgC;AAChC;AACA;;AAEA;;AAEA;;AAEA,CAAC;;AAED;;AAEA;;AAEA,gBAAgB,sBAAsB,sBAAsB;;AAE5D;AACA,wBAAwB,sBAAsB,0CAA0C;AACxF,wBAAwB,sBAAsB,qCAAqC;AACnF,wBAAwB,sBAAsB,gCAAgC;AAC9E,0BAA0B;AAC1B;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,0CAA0C,sBAAsB;AAChE,GAAG;;AAEH;AACA;AACA;AACA,gDAAgD,sBAAsB;AACtE,kDAAkD,sBAAsB;AACxE;AACA,kDAAkD,sBAAsB;AACxE;AACA,GAAG;;AAEH;;AAEA,CAAC;;AAED;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC,mDAAmD;AACzF;;AAEA;AACA,mBAAmB;AACnB,mBAAmB;AACnB,8DAA8D;AAC9D;AACA;;AAEA;AACA,iCAAiC,mBAAmB;AACpD;;AAEA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,0DAA0D,gCAAgC;AAC1F,yBAAyB,EAAE,UAAU,EAAE,UAAU,EAAE;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB,qBAAqB;AACrB,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA,eAAe;AACf;;AAEA;AACA,6EAA6E;AAC7E,gFAAgF;AAChF;;AAEA;;AAEA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gEAAgE;AAChE;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oGAAoG;AACpG,4DAA4D;AAC5D,uEAAuE;AACvE,0BAA0B;AAC1B;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS,4BAA4B;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB,yBAAyB;AACzB;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK,qDAAqD;AAC1D,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iCAAiC;AACjC,yDAAyD;AACzD,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gEAAgE,oCAAoC;AACpG;;AAEA;AACA;AACA;AACA,YAAY,sDAAsD;AAClE,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C,MAAM;AACN;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA,6BAA6B;AAC7B;AACA,gCAAgC;AAChC;AACA,GAAG,qBAAqB,mCAAmC;AAC3D;;;AAGA;AACA,8EAA8E,0BAA0B,mBAAmB,mBAAmB;AAC9I,2BAA2B,wBAAwB,aAAa,WAAW;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,UAAU;AACV;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,kBAAkB,0BAA0B;AAC5C;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,uCAAuC,yCAAyC;AAChF,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA,4BAA4B,wBAAwB;AACpD,kCAAkC,8BAA8B;AAChE,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA,uDAAuD,mCAAmC;AAC1F;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG,mBAAmB,oBAAoB;AAC1C;;AAEA;;AAEA;AACA;AACA,sCAAsC;AACtC;AACA,wFAAwF,2CAA2C;AACnI,qFAAqF,wCAAwC;AAC7H,2GAA2G,2DAA2D;AACtK;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;;AAE5C;AACA;AACA;AACA,MAAM,OAAO;AACb;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,sEAAsE,4BAA4B;AAClG;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,4CAA4C;AACpF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA,sBAAsB,oBAAoB,OAAO;AACjD,MAAM;AACN,qCAAqC,MAAM,IAAI;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2CAA2C,2BAA2B;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAiD;AACjD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,IAAI,IAAI;AACzC,6GAA6G;AAC7G;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,2BAA2B;;AAE3B;;AAEA;;AAEA;;AAEA;AACA,kCAAkC,IAAI;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,IAAI;AACpC;AACA;AACA;AACA,6DAA6D;AAC7D;AACA,gDAAgD;AAChD;;AAEA;AACA;AACA,uCAAuC,IAAI;AAC3C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AA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","sources":["webpack:///./node_modules/animejs/lib/anime.es.js","webpack:///./src/scripts/config/event-types.js","webpack:///./src/scripts/config/setup.js","webpack:///./src/scripts/configurator/components/alert-box.js","webpack:///./src/scripts/configurator/components/range.js","webpack:///./src/scripts/configurator/configs.js","webpack:///./src/scripts/configurator/easings.js","webpack:///./src/scripts/configurator/funcs.js","webpack:///./src/scripts/configurator/init.js","webpack:///./src/scripts/configurator/menu.js","webpack:///./src/scripts/configurator/player.js","webpack:///./src/scripts/configurator/timeline-panel.js","webpack:///./src/scripts/configurator/waterfall.js","webpack:///./src/scripts/core/acts-funcs.js","webpack:///./src/scripts/core/loader.js","webpack:///./src/scripts/core/nav.js","webpack:///./src/scripts/core/scroll-data.js","webpack:///./src/scripts/core/setjs-init.js","webpack:///./src/scripts/core/timeliner.js","webpack:///./src/scripts/helpers/app-helpers.js","webpack:///./src/scripts/helpers/dom-helpers.js","webpack:///./src/scripts/helpers/triangles.js","webpack:///./src/scripts/pages/home.js","webpack:///./src/scripts/pages/home/emotion.js","webpack:///./src/scripts/pages/home/entrance.js","webpack:///./src/scripts/pages/home/home-canvas.js","webpack:///./src/scripts/pages/home/stimulate.js","webpack:///./src/scripts/pages/home/story.js","webpack:///./src/scripts/pages/scream.js","webpack:///./src/scripts/pages/static.js","webpack:///./src/scripts/plugins/jquery/carousel.js","webpack:///./src/scripts/setjs/kernel/basics.js","webpack:///./src/scripts/setjs/kernel/event-manager.js","webpack:///./src/scripts/setjs/kernel/setjs.js","webpack:///./src/scripts/setjs/plugins/misc/dropdown-menu.js","webpack:///./src/scripts/setjs/plugins/template-funcs/basic-filters.js","webpack:///./src/scripts/setjs/plugins/template-funcs/debug.js","webpack:///./src/scripts/setjs/plugins/template-funcs/misc.js","webpack:///./src/scripts/setjs/router/history-router.js","webpack:///./src/scripts/setjs/template/binding.js","webpack:///./src/scripts/setjs/template/component.js","webpack:///./src/scripts/setjs/template/events.js","webpack:///./src/scripts/setjs/template/template-config.js","webpack:///./src/scripts/setjs/template/templates.js","webpack:///./src/scripts/setjs/utility/array.js","webpack:///./src/scripts/setjs/utility/assets.js","webpack:///./src/scripts/setjs/utility/browser.js","webpack:///./src/scripts/setjs/utility/calls.js","webpack:///./src/scripts/setjs/utility/comp-helpers.js","webpack:///./src/scripts/setjs/utility/numbers.js","webpack:///./src/scripts/setjs/utility/objects.js","webpack:///./src/scripts/setjs/utility/strings.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/scripts/main.js"],"sourcesContent":["/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","export default {\n  init: 1,\n  route: 2,\n  loadStart: 3,\n  preload: 4,\n  loading: 5,\n  loaded: 6,\n  unload: 7,\n  resize: 8,\n  scroll: 9,\n  view: 10,\n  wheel: 11,\n  lang: 12,\n  gdpr: 13,\n  user: 14,\n};\n","var setup = {\n  templateUrls: function(urls) {\n    return urls.map(x => '/templates/' + x + '.html?t=' + setup.timestamp());\n  },\n  init: function(obj) {\n    $.each(obj, function(key, value) {\n      if (setup[key]) {\n        throw 'Duplicate key: ' + key;\n      }\n      setup[key] = function() {\n        return value;\n      };\n    });\n  },\n  useVideo: function() {\n    return navigator.vendor && navigator.vendor.match(/apple/i) && !navigator.userAgent.match(/crios/i) && !navigator.userAgent.match(/fxios/i);\n  },\n};\n\nexport default setup;\n","import getComp from 'setjs/template/component.js';\n\nexport default function(opts) {\n  let alertComp = getComp('config/alert-box', opts, {\n    oK: function() {\n      alertComp.$root.remove();\n      opts.ok();\n    },\n    no: function() {\n      alertComp.$root.remove();\n      opts.no();\n    },\n    cancel: function() {\n      alertComp.$root.remove();\n    }\n  });\n  $body.append(alertComp.$root);\n}\n","import getComp from 'setjs/template/component.js';\nimport {roundNum} from 'setjs/utility/numbers.js';\n\nexport default function(opts) {\n  let {$el, update, list, min, max, grow_by = 0, step = 0.1, double, decimals = 2} = opts;\n  let restrict = opts.double ? opts.restrict : 0;\n  let range = max - min;\n  let rangeData = setupData({double, list, round});\n  let rangeComp = getComp('config/range', rangeData, {\n    change: function({$el, arg}) {\n      let val = +$el.val();\n      list[arg] = roundNum(val, decimals);\n      setRange(arg, val);\n      setupData(rangeData);\n      update(val, +arg, opts);\n    }\n  });\n  $el.append(rangeComp.$root);\n\n  function setRange(arg, val) {\n    if (arg) {\n      max = Math.max(val, opts.max);\n    } else {\n      min = Math.min(val, opts.min);\n    }\n    range = max - min;\n  }\n\n  function setupData(data) {\n    data.low_val = (list[0] - min) / range * 100;\n    data.low_min = min - grow_by;\n    data.low_max = restrict ? list[1] - step : max;\n    if (double) {\n      data.high_val = (list[1] - min) / range * 100;\n      data.high_min = restrict ? list[0] + step : min;\n      data.high_max = max + grow_by;\n    }\n    return data;\n  }\n\n  function round(num) {\n    return roundNum(num, decimals);\n  }\n}\n","const propList = [\n  'opacity',\n  'translateX',\n  'translateY',\n  'scale',\n  'left',\n  'top',\n  'fontSize',\n  'easing',\n  'width',\n  'height',\n  'sequence',\n];\n\nexport const dataVersion = 6;\n\nexport function getRangeConfig(key) {\n  if (key == 'opacity') {\n    return {min: 0, max: 1};\n  } else if (key == 'fontSize') {\n    return {min: 1, max: 50};\n  } else if (key == 'scale') {\n    return {min: -50, max: 50};\n  } else {\n    return {min: -250, max: 250};\n  }\n}\n\nexport function hasUnits(key) {\n  return 'translateX translateY left top fontSize width height'.indexOf(key) >= 0;\n}\n\nexport function createItem(key) {\n  var val = key == 'easing' ? 'linear' : getArr(key);\n  if (hasUnits(key)) {\n    return {key, val, unit: key == 'fontSize' ? 'rem' : '%'};\n  } else {\n    return {key, val};\n  }\n}\n\nexport function getUnits(key) {\n  if (key == 'fontSize') {\n    return ['rem', 'em', 'px'];\n  } else {\n    return ['%', 'vw', 'vh', 'rem', 'em', 'px'];\n  }\n}\n\nexport function getProps() {\n  return propList.map(x => { return {value: x, txt: x}; });\n}\n\nfunction getArr(key) {\n  if (key == 'fontSize') {\n    return [2, 10];\n  } else if (key == 'scale') {\n    return [1, 10];\n  } else if (key == 'opacity') {\n    return [0.5, 1];\n  } else if (key == 'width' || key == 'height') {\n    return [100, 200];\n  } else {\n    return [0, 50];\n  }\n}\n","export default [\n  'linear',\n  'easeInSine',\n  'easeInCubic',\n  'easeInQuart',\n  'easeInQuad',\n  'easeOutQuad',\n  'easeInOutQuad',\n  'easeOutInQuad',\n  'easeInCubic',\n  'easeOutCubic',\n  'easeInOutCubic',\n  'easeOutInCubic',\n  'easeInQuart',\n  'easeOutQuart',\n  'easeInOutQuart',\n  'easeOutInQuart',\n  'easeInQuint',\n  'easeOutQuint',\n  'easeInOutQuint',\n  'easeOutInQuint',\n  'easeInSine',\n  'easeOutSine',\n  'easeInOutSine',\n  'easeOutInSine',\n  'easeInExpo',\n  'easeOutExpo',\n  'easeInOutExpo',\n  'easeOutInExpo',\n  'easeInCirc',\n  'easeOutCirc',\n  'easeInOutCirc',\n  'easeOutInCirc',\n  'easeInBack',\n  'easeOutBack',\n  'easeInOutBack',\n  'easeOutInBack',\n];\n","import {addFuncs} from 'core/acts-funcs.js';\n\naddFuncs({\n  hasProp: function(parent, opts, prop) {\n    return prop in parent;\n  },\n  isArray: function(val) {\n    return Array.isArray(val);\n  },\n  perc: function(val) {\n    return val + '%';\n  },\n  localeString: function(ts) {\n    return new Date(ts).toLocaleString();\n  },\n});\n","import getComp from 'setjs/template/component.js';\nimport {setDefData} from 'setjs/kernel/basics.js';\nimport {ensureTemplates} from 'setjs/template/templates.js';\nimport {loadAssets} from 'setjs/utility/assets.js';\nimport {batchCall} from 'setjs/utility/calls.js';\n\nimport 'setjs/plugins/template-funcs/basic-filters.js';\nimport 'setjs/plugins/template-funcs/misc.js';\nimport 'setjs/plugins/template-funcs/debug.js';\nimport 'setjs/plugins/misc/dropdown-menu.js';\n\nimport 'configurator/funcs.js';\nimport 'configurator/menu.js';\nimport 'configurator/waterfall.js';\nimport 'configurator/player.js';\n\nimport easings from 'configurator/easings.js';\nimport {addProgressLinster} from 'core/timeliner.js';\n\nvar launchComp;\n\nexport default function() {\n  setDefData('easings', easings);\n  setDefData('progress', '0.0');\n  setDefData('animPlaying', false);\n  batchCall({\n    success: function() {\n      launchComp = getComp('config/launch');\n      $body.append(launchComp.$root);\n    },\n  })\n  .add(ensureTemplates, {urls: ['/templates/configurator.html?t=' + Date.now()]})\n  .add(loadAssets, {urlSets: [['/styles/configurator.css']]})\n  .go();\n}\n\nexport function timelineUpdate(timeConfigs) {\n  if (launchComp) {\n    launchComp.data.timeConfigs = timeConfigs;\n    launchComp.renderList('timeConfigs');\n    timeConfigs.forEach(config => {\n      addProgressLinster(config.id, progress => {\n        setDefData('progress', config.id + ':' + progress.toFixed(1));\n      });\n    });\n    if (!timeConfigs.length) {\n      setDefData('progress', '0.0');\n    }\n  } else {\n    setTimeout(timelineUpdate, 250, timeConfigs);\n  }\n}\n\n\n","import {updateWatches} from 'setjs/template/binding.js';\nimport {addAction} from 'core/acts-funcs.js';\nimport showTimeline from 'configurator/timeline-panel.js';\nimport showWaterfall from 'configurator/waterfall.js';\nimport {getTimeData, setTimeData} from 'core/scroll-data.js';\n\nfunction createDownloadUrl(timedata) {\n  timedata.timestamp = Date.now();\n  return URL.createObjectURL(new Blob([JSON.stringify(timedata, null, 2)], {\n    type: 'text/json;encoding:utf-8',\n  }));\n}\n\nfunction download({comp}) {\n  let timedata = getTimeData(comp.data.config.id);\n  comp.$downloadBtn.attr({download: timedata.id + '.json', href: createDownloadUrl(timedata)})[0].click();\n}\n\nfunction closePanel() {\n  $('.side-panel').remove();\n  $body.removeClass('panel-open');\n  updateWatches();\n}\n\nfunction panelFunc(func) {\n  return function(opts) {\n    closePanel();\n    func(opts);\n  };\n}\n\naddAction('closePanel', closePanel);\naddAction('download', download);\n\naddAction('showTimeline', panelFunc(showTimeline));\naddAction('showWaterfall', panelFunc(showWaterfall));\n\naddAction('import', function(opts) {\n  var file = opts.e.target.files[0];\n  if (!file) return;\n  var reader = new FileReader();\n  reader.onload = function(e) {\n    closePanel();\n    setTimeData(JSON.parse(e.target.result));\n  };\n  reader.readAsText(file);\n});\n\n\n\n","import anime from 'animejs';\nimport {setDefData} from 'setjs/kernel/basics.js';\nimport {addAction} from 'core/acts-funcs.js';\nimport {resetTimeline} from 'core/timeliner.js';\nimport {getWinHeight} from 'helpers/app-helpers.js';\n\nvar previous;\n\nfunction playTimeline(config, start, end) {\n  var winHeight = getWinHeight();\n  var height = config.$container.outerHeight() - winHeight;\n  var target = {time: start};\n  resetTimeline(config.id);\n\n  previous = {\n    target,\n    anim: anime({\n      targets: target,\n      time: end,\n      duration: height * (end - start) / 100,\n      easing: 'linear',\n      complete: function() {\n        setDefData('animPlaying', false);\n        previous = 0;\n      },\n      update: function() {\n        $doc.scrollTop(config.$container.offset().top + target.time / 100 * height);\n        setDefData('progress', config.id + ':' + target.time.toFixed(1));\n      }\n    }),\n  };\n}\n\nfunction stopPlayer() {\n  setDefData('animPlaying', false);\n  if (previous) {\n    previous.anim.remove(previous.target);\n    previous = 0;\n  }\n}\n\naddAction('toggleAnim', function(opts) {\n  var full = opts.data.field ? 0 : 100;\n  if (previous) {\n    stopPlayer();\n  } else {\n    setDefData('animPlaying', true);\n    playTimeline(opts.data.rd.config || opts.data.config, full ? 0 : opts.data.field.time[0], full || opts.data.field.time[1]);\n  }\n});\n","import getComp from 'setjs/template/component.js';\nimport {storeValue} from 'setjs/utility/objects.js';\nimport {getSequences} from 'core/scroll-data.js';\nimport {getRangeConfig, createItem, hasUnits, getUnits, getProps} from 'configurator/configs.js';\nimport createRange from 'configurator/components/range.js';\nimport {removeFromListByValue} from 'setjs/utility/array.js';\nimport alertBox from 'configurator/components/alert-box.js';\nimport {resetTimeline} from 'core/timeliner.js';\nimport {getTimeData} from 'core/scroll-data.js';\n\nexport default function(opts) {\n  let timedata = getTimeData(opts.data.config.id);\n  let sequences = getSequences();\n  let compData = {\n    timedata,\n    config: opts.data.config,\n    dom: timedata.dom,\n    obj: timedata.obj,\n    seq: sequences,\n    hasUnits,\n    getUnits,\n    getProps: function(list) {\n      var props = getProps();\n      list.forEach(function(item) {\n        removeFromListByValue(props, item.key, 'value');\n      });\n      return props;\n    },\n    setupRange: function(item, {$el}, time, prop) {\n      let config = $el.data('arg') || getRangeConfig(item.key);\n      config.double = time;\n\n      createRange($.extend({\n        $el,\n        list: item[prop || 'val'],\n        update: function(val) {\n          resetTimeline(timedata.id);\n          if (prop == 'time') {\n            $doc.scrollTop(val * (document.scrollingElement.scrollHeight - $win.height()));\n          }\n        }\n      }, config));\n    },\n    slotData: function(_, {target_prop}) {\n      return {items: compData[target_prop], target_prop};\n    },\n  };\n  var editorComp = getComp('config/timeline', compData, {\n    tabClick: function({$el}) {\n      $el.addClass('active');\n      $el.siblings().removeClass('active');\n      editorComp.$root.find('.tabs .tab').addClass('hide').eq($el.index()).removeClass('hide');\n    },\n    addProp: function({$el, data, comp}) {\n      data.pd.field.list.push(createItem(data.prop.value));\n      $el.hide();\n      comp.pComp.renderList('list');\n    },\n    addItem: function({$el, comp, arg, end}) {\n      end();\n      compData[arg].push({el: $el.find('input').val(), fields: []});\n      comp.renderList('targets');\n      $el.find('input').val('');\n    },\n    removeItem: function({comp, data}) {\n      alertBox({\n        title: data.target.el,\n        okTxt: 'Delete',\n        noClose: 0,\n        message: 'Are you sure you want to delete ' + data.target.el + '?',\n        ok: function() {\n          data.pd.items.splice(data.dex, 1);\n          comp.pComp.renderList('targets');\n          resetTimeline(timedata.id);\n        }\n      });\n    },\n    addField: function({data, comp}) {\n      data.target.fields.push({time: [0, 10], list: []});\n      comp.renderList('fields');\n      comp.update();\n    },\n    removeField: function({data, comp}) {\n      data.pd.target.fields.splice(data.dex, 1);\n      comp.pComp.renderList('fields');\n      comp.pComp.update();\n      resetTimeline(timedata.id);\n    },\n    removeProp: function({comp, data}) {\n      data.pd.field.list.splice(data.dex, 1);\n      comp.pComp.renderList('list', 'props');\n    },\n    toggleBrowser: function({$el, comp, data, arg}) {\n      let currentVal = data.field.browser || 0;\n      arg = +arg;\n      if ($el.hasClass('on')) {\n        data.field.browser = currentVal ^ arg;\n      } else {\n        data.field.browser = currentVal | arg;\n      }\n      if (!data.field.browser) {\n        delete data.field.browser;\n      }\n      comp.update(comp.$root.find('.bit-flag'));\n      resetTimeline(timedata.id);\n    },\n    toggleView: function({comp}) {\n      comp.$root.toggleClass('open');\n      // comp.$root.siblings().removeClass('open');\n    },\n    unitChange: function(opts) {\n      opts.data.item.unit = opts.$el.val();\n      resetTimeline(timedata.id);\n    },\n    valChange: function(opts) {\n      opts.data.item.val = opts.$el.val();\n      resetTimeline(timedata.id);\n    },\n  });\n\n  createRange({\n    $el: editorComp.$lengthRange,\n    list: [timedata.pages],\n    min: 0,\n    max: 100,\n    decimals: 0,\n    update: function(val) {\n      changeValue('pages', val);\n    }\n  });\n\n  $body.append(editorComp.$root).addClass('panel-open');\n\n  function changeValue(path, val) {\n    storeValue(timedata, path, val);\n    resetTimeline(timedata.id);\n  }\n}\n","import getComp from 'setjs/template/component.js';\nimport {sort} from 'setjs/utility/array.js';\nimport {roundNum} from 'setjs/utility/numbers.js';\nimport {resetTimeline} from 'core/timeliner.js';\nimport {getTimeData} from 'core/scroll-data.js';\n\nexport default function(opts) {\n  var timedata = getTimeData(opts.data.config.id);\n  var allAnims = getAnims(timedata);\n  var waterfallComp = getComp('config/waterfall', {\n    timedata,\n    config: opts.data.config,\n    filterBy: 0,\n    getAnims: function(data) {\n      return data.filterBy ? allAnims.filter(x => x.target == data.filterBy) : allAnims;\n    },\n    rangeCss: function(anim, {$el}) {\n      $el.css({left: anim.start + '%', width: (anim.end - anim.start) + '%'});\n    },\n  }, {\n    changeStart: function({$el, data}) {\n      var anims = waterfallComp.anims.list.map(x => x.data.anim);\n      var dex = data.dex;\n      var diff = $el.val() - anims[dex].start;\n      for (var i = dex; i < anims.length; i++) {\n        anims[i].start = anims[i].field.time[0] = roundNum(anims[i].start + diff, 2);\n        anims[i].end = anims[i].field.time[1] = roundNum(anims[i].end + diff, 2);\n        waterfallComp.anims.list[i].update();\n      }\n    },\n    changeEnd: function({$el, data, comp}) {\n      data.anim.end = data.anim.field.time[1] = Math.max(data.anim.start + 0.01, +$el.val());\n      comp.update();\n    },\n    applyFilter: function({data}) {\n      waterfallComp.data.filterBy = waterfallComp.data.filterBy ? 0 : data.anim.target;\n      waterfallComp.renderList('anims');\n      waterfallComp.update();\n    },\n    finish: function() {\n      let ratio = 100 / maxEnd();\n      allAnims.forEach(anim => {\n        anim.start = anim.field.time[0] = roundNum(anim.start * ratio, 2);\n        anim.end = anim.field.time[1] = roundNum(anim.end * ratio, 2);\n      });\n      waterfallComp.renderList('anims');\n      resetTimeline(timedata.id);\n    },\n    expand: function() {\n      allAnims.forEach(anim => {\n        anim.start = anim.field[0] = roundNum(anim.start * 0.95, 2);\n        anim.end = anim.field[1] = roundNum(anim.end * 0.95, 2);\n      });\n      waterfallComp.renderList('anims');\n      resetTimeline(timedata.id);\n    }\n  });\n  $body.append(waterfallComp.$root).addClass('panel-open');\n\n  function maxEnd() {\n    let end = 0;\n    allAnims.forEach(anim => {\n      end = Math.max(end, anim.end);\n    });\n    return end || 100;\n  }\n}\n\nfunction getAnims(timedata) {\n  var anims = [];\n  addAnims(timedata.dom);\n  addAnims(timedata.obj);\n  return sort(anims, 'start');\n\n  function addAnims(list, type) {\n    list.forEach(function(target) {\n      anims = anims.concat(target.fields.filter(x => x.time).map(field => {\n        return {\n          type,\n          start: field.time[0],\n          end: field.time[1],\n          field,\n          target,\n        };\n      }));\n    });\n  }\n}\n","var functions = {};\nvar actions = {};\nvar jqList = ['attr', 'css', 'data', 'html', 'prop', 'text', 'addClass', 'toggleClass', 'val'];\n\nexport function act(funcName) {\n  if (actions[funcName]) {\n    return actions[funcName];\n  }\n  throw {msg: 'No such function', name: funcName};\n}\n\nexport function func(funcName) {\n  if (functions[funcName]) {\n    return functions[funcName];\n  } else if (jqList.indexOf(funcName) >= 0) {\n    functions[funcName] = function(val, {$el}, val2) {\n      if (arguments.length > 2) {\n        $el[funcName](val2, val);\n      } else {\n        $el[funcName](val);\n      }\n    };\n    return functions[funcName];\n  } else {\n    throw {msg: 'No such function', name: funcName};\n  }\n}\n\nexport function jqFuncs(list) {\n  jqList = jqList.concat(list);\n}\n\nexport function addAction(name, onFunc) {\n  if (actions[name]) {\n    throw 'action exists: ' + name;\n  }\n  actions[name] = onFunc;\n}\n\nexport function addFuncs(funcs) {\n  Object.keys(funcs).forEach(function(funcName) {\n    if (functions[funcName] || typeof funcs[funcName] != 'function') {\n      throw {msg: 'Duplicate or not a function', funcName, funcs};\n    }\n    functions[funcName] = funcs[funcName];\n  });\n}\n","import setup from 'config/setup.js';\nimport {loadImages} from 'setjs/utility/assets.js';\nimport {batchCall} from 'setjs/utility/calls.js';\n\nvar imgAssets;\nvar videos;\nvar $progress = $('#progress-bar');\n\nexport function getImage(name) {\n  return imgAssets[name] && imgAssets[name].img;\n}\n\nexport function getVideo(name) {\n  return videos[name];\n}\n\nexport default function(done) {\n  var imagesToLoad = [{\n    id: 'usain',\n    url: '/images/usainbolt.png',\n  }];\n\n  var bc =  batchCall({\n    success: function(assets) {\n      imgAssets = assets.images;\n      videos = assets.videos || {};\n      done();\n      setTimeout(function() {\n        $progress.css('width', '100%');\n        $progress.animate({'opacity': 0}, 1200, function() {\n          $progress.remove();\n        });\n      }, 2000);\n    },\n    error: function() {\n      alert('There was an error. Please try later.');\n    },\n  }).add(imageLoader, null, 'images');\n\n  if (setup.useVideo()) {\n    bc.add(videoLoader, null, 'videos');\n  } else {\n    imagesToLoad.push({\n      id: 'logo',\n      url: '/images/vmlogoforparticles.png',\n    });\n  }\n\n  bc.go();\n\n  function imageLoader(opts) {\n    loadImages(imagesToLoad, opts.success, function(prog) {\n      $progress.css('width', 20 + (60 * prog) + '%');\n    });\n  }\n\n  function videoLoader(opts) {\n    let $vmVideo = $(`<video id=\"particles-vid\" autoplay playsinline muted src=\"/videos/particles.mp4\"></video>`);\n    $vmVideo.on('loadeddata', function() {\n      if($vmVideo[0].readyState >= 2) {\n        opts.success({$vmVideo});\n      }\n    });\n  }\n}\n","import setup from 'config/setup.js';\nimport anime from 'animejs';\nimport {disableTimelines, addProgressLinster} from 'core/timeliner.js';\nimport getHome from 'pages/home.js';\nimport getScream from 'pages/scream.js';\nimport getStatic from 'pages/static.js';\nimport {fixSizes} from 'helpers/dom-helpers';\n\nexport default function() {\n  var allowScroll = 1;\n  var $nav = $('#nav');\n  var navData =  {\n    navProgress: 0,\n  };\n  var navTimeline = anime.timeline({\n    duration: 100,\n    autoplay: false,\n    easing: 'linear',\n  }).add({\n    targets: '#nav-btn',\n    rotate: [0, '-315deg'],\n    duration: 100,\n  }).add({\n    targets: '#nav .content, #nav .overlay',\n    translateX: [0, '-100%'],\n    duration: 100,\n  }, 0);\n  var pages = {\n    home: getHome(),\n    'hi-scream': getScream(),\n    about: getStatic('about'),\n    create: getStatic('create'),\n    content: getStatic('content'),\n    contact: getStatic('contact'),\n    production: getStatic('production'),\n    'dj-snake': getStatic('snake', {title: 2020, page: 800}),\n    ibiza: getStatic('ibiza', {title: 20, page: 200}),\n    'an-ant-for-ants': getStatic('ants', {title: 20, page: 200}),\n    'institut-du-monde': getStatic('institut', {title: 20, page: 200}),\n    notfound: getStatic('404', {title: 20, page: 200}),\n  };\n  var lastPage;\n\n  window.onpopstate = handleRoute;\n\n  addProgressLinster('home', function(progress, {navParams}) {\n    if (allowScroll) {\n      navData.navProgress = navParams.prog;\n      navTimeline.seek(navData.navProgress);\n      $nav.find('.reveal').toggleClass('show', navData.navProgress > 0);\n    } else if (navParams.prog < 1) {\n      allowScroll = 1;\n    }\n  });\n\n  $('[data-href]').each(function() {\n    let $el = $(this);\n    let href = $el.data('href');\n    if (href[0] != '/') {\n      href = '/' + href;\n    }\n    href = href + setup.extension();\n    $el.on('click', function(e) {\n      e.preventDefault();\n      window.history.pushState({}, document.title, href);\n      handleRoute($el.closest('.footer').length);\n    }).css('cursor', 'pointer').attr('href', href);\n  });\n\n  handleRoute();\n\n  function handleRoute(slide) {\n    let route = document.location.pathname.replace(/^\\/|\\/$|\\.html$/g, '') || 'home';\n    let page = pages[route] || pages.notfound;\n    toggleMenu(false);\n    if (page != lastPage) {\n      disableTimelines();\n      lastPage && lastPage.deactivate();\n      showPage(page, slide);\n      lastPage = page;\n    }\n  }\n\n  $nav.find('#nav-btn').on('click', function() {\n    $('.work-dropdown').css('height', '').removeClass('open');\n    toggleMenu(navData.navProgress == 0 || (navData.navProgress >= 50 && navData.navProgress < 99));\n  });\n\n  $nav.find('.work-btn').on('click', function() {\n    let $dropdown = $('.work-dropdown').toggleClass('open');\n    $dropdown.css('height', $dropdown.hasClass('open') ? $('.work-dropdown-inner').height() + 10 : 0);\n    return false;\n  });\n\n  function toggleMenu(open) {\n    anime({\n      targets: navData,\n      navProgress: open ? 100 : 0,\n      easing: 'easeInOutQuart',\n      duration: 1200,\n      update: function() {\n        navTimeline.seek(navData.navProgress);\n      }\n    });\n    $nav.find('.reveal').toggleClass('show', open);\n    allowScroll = 0;\n  }\n\n  function showPage(page, slide) {\n    let $page = page.$root;\n    let $main = $page.find('.main').removeClass('show');\n    let $intro = $page.find('.intro').css({opacity: '', transform: ''});\n    let $bg = $page.find('.page-bg').css({transform: '', opacity: ''});\n    let $oldPage = $('.page.show');\n    $main.find('.right').css({opacity: ''});\n    $page.find('.reveal').removeClass('show');\n    if (lastPage && slide) {\n      return slidePage({page, $oldPage, $page, $intro, $main, $bg});\n    }\n    $doc.scrollTop(0);\n    if ($oldPage.length) {\n      anime({\n        targets: $oldPage.css({zIndex: 12})[0],\n        opacity: [1, 0],\n        duration: 800,\n        easing: 'linear',\n        complete: function() {\n          $oldPage.removeClass('show ready').css({zIndex: -1, opacity: ''});\n        }\n      });\n      anime({\n        targets: $page[0],\n        opacity: [0, 1],\n        duration: 800,\n        easing: 'linear',\n      });\n      displayPage({page, $page, $intro, $main, $bg});\n    } else {\n      $('.page').css('opacity', '');\n      setTimeout(displayPage, page.times.page, {page, $page, $intro, $main, $bg});\n    }\n  }\n\n  function slidePage({page, $oldPage, $page, $intro, $main, $bg}) {\n    let $detail = $oldPage.find('.detail-section').css({position: 'fixed', top: 'auto'});\n    let $others = $oldPage.find('>*').not($detail).css('display', 'none');\n    $page.css({zIndex: 11, opacity: 1}).addClass('show ready');\n    displayPage({page, $page, $intro, $main, $bg});\n    $oldPage.css({zIndex: 12, background: 'none', position: 'fixed'});\n    $doc.scrollTop(1);\n    anime({\n      targets: $detail[0],\n      bottom: [0, $win.height()],\n      duration: 1500,\n      easing: 'linear',\n      complete: function() {\n        $oldPage.removeClass('show ready').css({zIndex: -1, background: '', position: ''});\n        $detail.css({bottom: '', position: '', top: ''});\n        $others.css('display', '');\n      }\n    });\n  }\n\n  function displayPage({page, $page, $intro, $main, $bg}) {\n    let triTop = $page.find('.tri-wrap.top')[0];\n    $page.addClass('show').css({zIndex: 11});\n    $main.addClass('show');\n    $page.find('.services-outer').css('height', '').removeClass('active');\n    $page.find('.services-btn').removeClass('active');\n    fixSizes();\n    if ($intro[0]) {\n      anime({\n        targets: $intro[0],\n        opacity: [0, 1],\n        duration: 800,\n        delay: $intro.data('time') || 800,\n        easing: 'easeInSine'\n      });\n    }\n    anime({\n      targets: $bg[0],\n      opacity: $bg.data('opacity'),\n      scale: $bg.data('scale'),\n      duration: 3300,\n      easing: 'linear',\n    });\n    triTop && anime({\n      targets: [triTop, $page.find('.tri-wrap.bottom')[0]],\n      opacity: [0.8, 0.4],\n      scale: [2, 1],\n      duration: 3500,\n      easing: 'linear',\n    });\n    page.activate();\n    setTimeout(function() {\n      $page.find('.reveal').addClass('show');\n      $doc.scrollTop(0);\n      setTimeout(function() {\n        $main.find('.left').addClass('show');\n        $page.addClass('ready');\n        anime({\n          targets: $main.find('.right')[0],\n          opacity: [0, 1],\n          duration: 800,\n          delay: 1000,\n          easing: 'easeInSine',\n        });\n      }, 1000);\n    }, page.times.title);\n  }\n}\n\n","import home from 'data/home.json';\nimport sequences from 'data/sequences.json';\nimport {resetTimeline} from 'core/timeliner.js';\n\nlet map = {\n  home,\n};\n\nexport function getSequences() {\n  return sequences;\n}\n\nexport function getTimeData(name) {\n  return map[name];\n}\n\nexport function setTimeData(timedata) {\n  map[timedata.id] = timedata;\n  resetTimeline(timedata.id);\n}\n\nexport function getNames() {\n  return Object.keys(map);\n}\n","import {initSetjs} from 'setjs/kernel/setjs.js';\n\nfunction fixPath(pathStr) {\n  if (RegExp('account/(confirm|reset-password)/.+/').test(pathStr)) {\n    return pathStr;\n  }\n  return pathStr.replace(/\\/{2,}/g, '/').replace(/(.+)\\/$/, '$1');\n}\n\nfunction getLink(subRoute) {\n  return fixPath('/' + (subRoute || ''));\n}\n\nfunction compUpdate() {}\n\nfunction handleEvent(args, func) {\n  let {comp, $el, action, e} = args;\n  if (comp.busy || e.type == 'submit' || $el.data('stop')) {\n    // Do this early to avoid default browser action in case of errors\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  if (!comp.busy) {\n    args._e = e;\n    if (e.originalEvent && e.originalEvent.changedTouches && e.originalEvent.changedTouches.length) {\n      args.e = e.originalEvent.changedTouches[0];\n    }\n    if (action == 'form') {\n      let $button = $el.find('[type=\"submit\"]');\n      comp.busy = true;\n      $button.prop('disabled', true);\n      $el.addClass('loading').removeClass('error success');\n      args.error = function(message) {\n        args.end('error', message);\n      };\n      args.success = function(messageObj) {\n        args.end('success', (messageObj && messageObj.message) || messageObj);\n      };\n      args.end = function(cls, message) {\n        comp.busy = false;\n        $el.removeClass('loading').addClass(cls);\n        $button.prop('disabled', false);\n        $('body').removeClass('loading');\n        if (comp.$formMsg) {\n          comp.$formMsg.text(message || '');\n        }\n      };\n    }\n    func(args);\n  }\n}\n\nexport default function() {\n  initSetjs({\n    fixPath,\n    getLink,\n    compUpdate,\n    handleEvent,\n    lang: '',\n  });\n}\n","import anime from 'animejs';\nimport {debounce} from 'setjs/utility/calls.js';\nimport {getWinHeight} from 'helpers/app-helpers.js';\nimport {getVal} from 'setjs/utility/array.js';\nimport {getSequences} from 'core/scroll-data.js';\nimport {timelineUpdate} from 'Configurator';\nimport {getTimeData} from 'core/scroll-data.js';\n\nvar cssProps = ['top', 'left', 'opacity', 'fontSize', 'transform', 'width', 'height'];\nvar progressListeners = {};\nvar timeConfigs = [];\n\nfunction seek() {\n  let winHeight = $win.height();\n\n  timeConfigs.forEach(config => {\n    let bounds = config.$container[0].getBoundingClientRect();\n    let progress = Math.min(1, Math.max(0, (bounds.top) / (winHeight + bounds.top - bounds.bottom)));\n    config.timeline.seek(config.duration * progress);\n    (progressListeners[config.id] && progressListeners[config.id]).forEach(listener => {\n      listener && listener(100 * progress, config.targets);\n    });\n  });\n}\n\nexport function resetTimeline(id) {\n  let index = timeConfigs.findIndex(x => x.id == id);\n  timeConfigs[index] = createTimeline(timeConfigs[index].$container, getTimeData(id));\n}\n\nfunction resetTimelines() {\n  for (var i = 0; i < timeConfigs.length; i++) {\n    timeConfigs[i] = createTimeline(timeConfigs[i].$container, getTimeData(timeConfigs[i].id));\n  }\n}\n\nexport function initTimeline() {\n  $win.on('resize', debounce(resetTimelines));\n  $doc.on('scroll', seek);\n}\n\nexport function addProgressLinster(name, func) {\n  progressListeners[name] = progressListeners[name] || [];\n  progressListeners[name].push(func);\n}\n\nexport function disableTimelines() {\n  timeConfigs.length = 0;\n  timelineUpdate(timeConfigs);\n}\n\nexport default function($container, timedata) {\n  timeConfigs.push(createTimeline($container, timedata));\n  timelineUpdate(timeConfigs);\n}\n\nfunction createTimeline($container, timedata) {\n  let winHeight = getWinHeight();\n  let objTargets = {};\n  let duration = timedata.pages * winHeight || $container.outerHeight();\n  let timeline = anime.timeline({\n    duration,\n    autoplay: false,\n    easing: 'linear',\n  });\n  timedata.pages && $container.css('height', duration + winHeight);\n\n  timedata.obj.forEach(function(target) {\n    createTargets(target, 0, objTargets[target.el] = {});\n  });\n\n  timedata.dom.forEach(function(target) {\n    let $el = $(target.el);\n    cssProps.forEach(prop => {\n      $el.css(prop, '');\n    });\n    createTargets(target, $el);\n  });\n  return {id: timedata.id, $container, timeline, duration, targets: objTargets};\n\n  function createTargets(target, $el, animObj) {\n    targetFields(target).filter(field => ((field.browser || -1) & getBrowserFlag($container.width()))).forEach(function(field) {\n      let item = {};\n      let listItems = field.list.filter(x => x.key != 'sequence');\n      if (!listItems.length) return;\n      listItems.forEach(function(config) {\n        let unit = config.unit || 0;\n        item[config.key] = Array.isArray(config.val) ? config.val.slice().map(x => x + unit) : isNaN(config.val) ? config.val : config.val + unit;\n        if (animObj) {\n          animObj[config.key] = Array.isArray(config.val) ? config.val[0] : config.val;\n        }\n      });\n      item.targets = animObj || $el.toArray();\n      item.duration = (field.time[1] - field.time[0]) / 100 * duration;\n      timeline.add(item, (field.time[0]) / 100 * duration);\n      if (animObj) {\n        animObj.start = Math.min(field.time[0], animObj.start || 100);\n        animObj.end = Math.max(field.time[1], animObj.end || 0);\n      }\n    });\n  }\n}\n\nfunction targetFields(target) {\n  let fields = [];\n  target.fields.forEach(function(field) {\n    fields.push(field);\n    field.list.forEach(function(item) {\n      if (item.key == 'sequence') {\n        let seqFields = getVal(getSequences(), item.val, 'el').fields;\n        let mul = (field.time[1] - field.time[0]) / 100;\n        seqFields.forEach(function(sField) {\n          fields.push({\n            time: [field.time[0] + sField.time[0] * mul, field.time[0] + sField.time[1] * mul],\n            list: sField.list,\n          });\n        });\n      }\n    });\n  });\n  return fields;\n}\n\nfunction getBrowserFlag(containerWidth) {\n  if (containerWidth <= 720) {\n    return 1;\n  } else if (containerWidth <= 1024) {\n    return 2;\n  }\n  return 4;\n}\n","export function addPath(path2d, str, points) {\n  let path = '';\n  let index = 0;\n  for (var i = 0; i < str.length; i++) {\n    let char = str[i];\n    if (char == 'M' || char == 'L' || char == 'Z') {\n      path += (char == 'Z' ? 'L' : char) + points.slice(index, index + 2).join(',');\n      index += 2;\n    } else if (char == 'C') {\n      path += char + points.slice(index, index + 6).join(',');\n      index += 6;\n    }\n  }\n  if (!path2d) {\n    return new Path2D(path);\n  }\n  path2d.addPath(new Path2D(path));\n  return path2d;\n}\n\nexport function plus(r, d, w) {\n  return [\n    {x: r - w, y: d},\n    {x: r + w, y: d},\n    {x: r + w, y: r - w},\n    {x: 2 * r - d , y: r - w},\n    {x: 2 * r - d , y: r + w},\n    {x: r + w , y: r + w},\n    {x: r + w , y:  2 * r - d},\n    {x: r - w , y:  2 * r - d},\n    {x: r - w , y:  r + w},\n    {x: d , y:  r + w},\n    {x: d , y:  r - w},\n    {x: r - w, y:  r - w},\n  ];\n}\n\nexport function getWinWidth() {\n  return window.innerWidth && document.documentElement.clientWidth ?\n    Math.min(window.innerWidth, document.documentElement.clientWidth) :\n    window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n}\n\nexport function getWinHeight() {\n  return window.innerHeight && document.documentElement.clientHeight ?\n    Math.min(window.innerHeight, document.documentElement.clientHeight) :\n    window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n}\n","import {debounce} from 'setjs/utility/calls.js';\nimport {roundNum} from 'setjs/utility/numbers.js';\n\nexport default function() {\n  fontSizes();\n  fixSizes();\n  $win.on('resize', debounce(fixSizes));\n\n  $('.carousel-section').carousel();\n\n  $('.white-tri').on('click', function() {\n    $('html, body').animate({scrollTop: ($(this).data('factor') || 1) * $win.height()}, 2500);\n  });\n\n  $('.services-btn').on('click', function() {\n    let $btn = $(this).toggleClass('active');\n    let $target = $btn.closest('.page-section').find('.services-outer').toggleClass('active');\n    $target.css('height', $target.hasClass('active') ? $target.find('.services').height() + 6 : '');\n  });\n\n  $win.on('scroll', function() {\n    let height = $win.height();\n    $('.white-tri').toggleClass('disable', $doc.scrollTop() > height);\n    $('.scream-tri').css('opacity', 0);\n    $('.page.show').find('.scream-tri').css('opacity', (height - Math.min(height, window.scrollY)) / height);\n    $('[data-scroll]').each(function() {\n      let $el = $(this);\n      let opts = $el.data('scroll');\n      let top = this.getBoundingClientRect().top + 120;\n      let progress = Math.min(1, Math.max(0, (opts.factor || 1) * (height - top) / height));\n      $el.css({\n        opacity: opts.opacity ? opts.opacity[0] + progress * (opts.opacity[1] - opts.opacity[0]) : '',\n        transform: opts.scale ? `scale(${opts.scale[0] + progress * (opts.scale[1] - opts.scale[0])})` : ''\n      });\n    });\n  });\n}\n\nexport function fixSizes() {\n  let winWidth = $win.width();\n  $('.video iframe').each(function(i, el) {\n    el.style.maxHeight = Math.floor(winWidth * el.height / el.width) + 'px';\n  });\n  $('.tri-wrap.bottom').each(function() {\n    let $wrapper = $(this);\n    let width = $wrapper.width();\n    $wrapper.css('margin-left', `${width > winWidth ? (winWidth - width) / 2 : 0}px`);\n  });\n\n  if ($('#institut-page').hasClass('show')) {\n    let $parent = $('#institut-carousel');\n    $parent.find('.nav-buttons').css('height', $parent.find('.carousel img').height());\n  }\n}\n\nfunction fontSizes() {\n  $('head').append(`<style>${createSize('lg', 5)}${mediaSize('md', 4, 1024)}${mediaSize('sm', 3, 768)}${mediaSize('xs', 2, 594)}${mediaSize('xxs', 2, 480)}</style>`);\n\n  function createSize(prefix, max) {\n    let styles = [];\n    for (var i = 0.9; i <= max; i = roundNum(i + 0.1, 1)) {\n      styles.push(`.${prefix}-${('' + (i)).replace('.', '-')}{font-size:${i}rem!important;}`);\n    }\n    return styles.join('\\n') + '\\n';\n  }\n\n  function mediaSize(prefix, max, res) {\n    return `@media only screen and (max-width: ${res}px) {\\n${createSize(prefix, max)}\\n}`;\n  }\n}\n","function getPath(inv, color) {\n  if (inv) {\n    return `<path d=\"M572.21 0L308.67 389.93c-6.15 9.38-13.33 13.55-22.56 13.55-9.23 0-16.41-4.17-22.56-13.55L0 0\" fill=\"#${color}\"/>`;\n  } else {\n    return `<path d=\"M0 403.48L263.54 13.55C269.69 4.17 276.87 0 286.1 0c9.23 0 16.41 4.17 22.56 13.55l263.55 389.93\" fill=\"#${color}\"/>`;\n  }\n}\n\nfunction createSvg(inv, black, color) {\n  color = color || (black ? '000000' : 'ffffff');\n  return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 572 403\">${getPath(inv, color)}</svg>`;\n}\n\nexport default function() {\n  $('[data-tri]').each(function() {\n    var $el = $(this);\n    $el.data('tri').forEach(data => {\n      $el.append($(createSvg(data.inv, data.black, data.color)).attr('id', data.id));\n    });\n  });\n  $('[data-triangles]').each(function() {\n    var $el = $(this);\n    var data = $el.data('triangles');\n    $el.append('<div class=\"tri-wrap top\">' + createSvg(1, data.black, data.color) + '</div>');\n    $el.append('<div class=\"tri-wrap bottom\">' + createSvg(0, data.black, data.color) + createSvg(0, data.black, data.color) + '</div>');\n  });\n}\n","import timeliner, {addProgressLinster} from 'core/timeliner.js';\nimport {getWinWidth, getWinHeight} from 'helpers/app-helpers.js';\nimport {getTimeData} from 'core/scroll-data.js';\n\nimport getEmotion from './home/emotion.js';\nimport getEntrance from './home/entrance.js';\nimport getCanvas from './home/home-canvas.js';\nimport getStimulate from './home/stimulate.js';\nimport getStory from './home/story.js';\n\nexport default function() {\n  let $home = $('#home-page');\n  let emotion = getEmotion();\n  let entrance = getEntrance();\n  let homeCanvas = getCanvas();\n  let stimulate = getStimulate();\n  let story = getStory();\n\n  addProgressLinster('home', function(progress, targets) {\n    emotion.seek(progress, targets);\n    homeCanvas.seek(progress, targets);\n    stimulate.seek(progress, targets);\n    story.seek(progress, targets);\n    entrance.seek(progress);\n  });\n\n  function setup() {\n    let opts = {winHeight: getWinHeight(), winWidth: getWinWidth()};\n    homeCanvas.setup(opts);\n    story.setup(opts);\n    entrance.setup(opts);\n  }\n\n  return {\n    $root: $home,\n    times: {title: 2020, page: 800},\n    activate: function() {\n      setup();\n      timeliner($home, getTimeData('home'));\n      $win.on('resize.home', setup);\n    },\n    deactivate: function() {\n      $win.off('.home');\n    }\n  };\n}\n","import anime from 'animejs';\n\nvar lines = [\n  [{txt: 'Passion ', h: 1, so: 0, sd: 11, eo: 20, ed: 11}, {txt: 'fuels my work', so: 8, sd: 8, eo: 19, ed: 8}],\n  [{txt: 'As well as ', so: 32, sd: 8, eo: 50, ed: 8}, {txt: 'Ignites', h: 1, so: 36, sd: 11, eo: 55, ed: 11}, {txt: ' my creativity', so: 41, sd: 8, eo: 55, ed: 8}],\n  [{txt: 'in ', so: 67, sd: 8, eo: 85, ed: 8}, {txt: 'everything', h: 1, so: 68, sd: 11, eo: 89, ed: 11}, {txt: ' I undertake.', so: 73, sd: 8, eo: 85, ed: 8}],\n];\n\n\n// function getChars(line, prop) {\n//   let chars = line[prop].split('');\n//   return $(`<span class=\"${prop}\">`).append(chars.map(char => `<span>${char.replace(' ', '&nbsp;')}</span>`));\n// }\n\nfunction createSentences($parent) {\n  let sentences = [];\n  lines.forEach(function(phrases) {\n    let list = [];\n    let $sentence = $('<div class=\"sentence\">').appendTo($parent);\n    phrases.forEach(function(phrase) {\n      let $el = $(`<span>${phrase.txt}</span>`).addClass(phrase.h ? 'highlight' : 'normal');\n      $sentence.append($el);\n      list.push($.extend({el: $el[0]}, phrase));\n    });\n    sentences.push(list);\n  });\n  return sentences;\n}\n\nexport default function() {\n  let emotionVid = $('#emotion-video')[0];\n  let sentences = createSentences($('#emotion-section'));\n  let timeline = anime.timeline({\n    autoplay: false,\n    easing: 'linear',\n  });\n\n  sentences.forEach(function(sentence) {\n    sentence.forEach(addSequence);\n  });\n\n  function addSequence({el, so, sd, eo, ed}) {\n    timeline.add({\n      targets: el,\n      duration: sd,\n      opacity: [0, 1]\n    }, so);\n\n    timeline.add({\n      targets: el,\n      duration: ed,\n      opacity: [1, 0]\n    }, eo);\n  }\n\n  return {\n    seek: function(progress, {emotion, top_black}) {\n      timeline.seek(emotion.m * timeline.duration);\n      if (top_black.emotion_show) {\n        if (emotionVid.paused) {\n          emotionVid.muted = true;\n          emotionVid.play();\n        }\n      } else if (!emotionVid.paused) {\n        emotionVid.pause();\n      }\n    }\n  };\n}\n","import {getImage, getVideo} from 'core/loader.js';\n\nexport default function() {\n  let $entrance = $('#entrance-section');\n  let $entranceImg = $('#vmlogoforparticles');\n  let $vmVideo = getVideo('$vmVideo');\n  let img = getImage('logo');\n  let progress = 0;\n  var vid, nextParticle;\n\n  if ($vmVideo) {\n    $entrance.empty().append($vmVideo);\n    vid = $vmVideo[0];\n    $vmVideo.on('ended', function() {\n      videoState(1);\n    });\n  }\n\n  function videoState(resetTime) {\n    if (vid) {\n      if (resetTime || vid.currentTime >= 6.9) {\n        vid.currentTime = 6.8;\n      }\n      if (progress < 6) {\n        vid.muted = true;\n        vid.paused && vid.play();\n      } else {\n        vid.pause();\n      }\n    }\n  }\n\n  return {\n    setup: function({winWidth}) {\n      if (img) {\n        let ratio =  img.height / img.width;\n        let width = Math.floor(Math.min(800, winWidth));\n        if (nextParticle) {\n          nextParticle.width = width;\n          nextParticle.height = Math.floor(ratio * width);\n          nextParticle.start();\n        } else {\n          nextParticle = new NextParticle($entranceImg.attr({\n            'data-width': width,\n            'data-height': ratio * width,\n          })[0]);\n        }\n        $entrance.css('opacity', 0);\n        prompts(() => {\n          $entrance.css('opacity', 1);\n          $entrance.find('canvas').css({marginLeft: winWidth < width ? Math.floor(Math.min(0, winWidth - width) * 0.36) : ''});\n        });\n      } else {\n        if (vid) {\n          vid.currentTime = 0;\n        }\n        videoState();\n      }\n    },\n    seek: function(_progress) {\n      progress = _progress;\n      videoState();\n    },\n  };\n\n  function prompts(done) {\n    let canvas = $entrance.find('canvas')[0];\n    if (!canvas) {\n      return setTimeout(prompts, 250, done);\n    }\n    let bounds = canvas.getBoundingClientRect();\n    $entrance.find('.corner.t').css('top', Math.max(30, Math.floor(bounds.top) - 30));\n    $entrance.find('.corner.b').css('top', Math.min($win.height() - 30, Math.floor(bounds.bottom)));\n    $entrance.find('.corner.l').css('left', Math.max(20, Math.floor(bounds.left) - 60));\n    $entrance.find('.corner.r').css('left', Math.min($win.width() - 30, Math.floor(bounds.right)));\n    done();\n  }\n}\n","import {getImage} from 'core/loader.js';\nimport {addPath} from 'helpers/app-helpers.js';\n\nexport default function() {\n  var img = getImage('usain');\n  var canvas = $('#home-canvas')[0];\n  var ctx = canvas.getContext('2d');\n  var points = [0,0, 572.21,0, 308.67,389.93, 302.52,399.31, 295.34,403.48, 286.11,403.48, 276.88,403.48, 269.7,399.31, 263.55,389.93, 0, 0];\n  var centerX = 286;\n  var svgHeight = 403.5;\n  var winWidth, winHeight;\n\n  return {\n    setup: function (opts) {\n      canvas.width = winWidth = opts.winWidth;\n      canvas.height = winHeight = opts.winHeight;\n    },\n    seek: function(progress, {usain, top_white, top_black}) {\n      ctx.clearRect(0, 0, winWidth, winHeight);\n      $('#home-page .white-tri').toggle(progress < top_white.start);\n      $('#home-canvas, #tri-overlay').css('z-index', progress < top_white.start ? 10 : '');\n      if (progress >= top_white.start && progress < top_black.end) {\n        let triScale = top_white.scale *  winHeight * 0.3 / svgHeight;\n        let path = addPath(null, `MLLCCL`, points.map(x => x * triScale));\n        let triCenter = winWidth / 2 - centerX * triScale;\n        ctx.save();\n        ctx.translate(triCenter, top_white.top * winHeight);\n        ctx.fillStyle = 'rgba(255,255,255, ' + top_white.opacity + ')';\n        ctx.fill(path);\n        if (progress >= usain.start) {\n          let ratio = Math.min(winHeight/img.height, winWidth/img.height);\n          ctx.save();\n          ctx.clip(path);\n          ctx.translate(-triCenter, -(top_white.top * winHeight));\n          if (img.height * ratio < winHeight) {\n            ratio = winHeight / img.height;\n          }\n          ratio *= usain.scale;\n          ctx.translate(winWidth / 2 - img.width * .6 * ratio / 2, -img.height * ratio * usain.head * 0.22);\n          ctx.globalCompositeOperation = 'source-atop';\n          ctx.globalAlpha = usain.opacity;\n          ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, img.width * ratio, img.height * ratio);\n          ctx.restore();\n          if (progress >= top_black.start) {\n            triScale = top_black.scale *  winHeight * 0.3 / svgHeight;\n            triCenter = winWidth / 2 - centerX * triScale;\n            path = addPath(null, `MLLCCL`, points.map(x => x * triScale));\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n            ctx.translate(triCenter + winWidth * top_black.left / 100, 0);\n            ctx.fillStyle = 'rgba(0,0,0, ' + top_black.opacity + ')';\n            ctx.clip(path);\n            if (top_black.emotion_show) {\n              ctx.clearRect(-(triCenter + winWidth * top_black.left / 100), 0, winWidth, winHeight);\n            }\n            ctx.fill(path);\n            let blackWidth = $('#bottom-black').width();\n            if (blackWidth > winWidth) {\n              let done = (100 - top_black.left) / 100;\n              $('#bottom-black').css('margin-left', `${blackWidth > winWidth ? done * (winWidth - blackWidth) / 2 : 0}px`);\n            } else {\n              $('#bottom-black').css('margin-left', '');\n            }\n          }\n        }\n        ctx.restore();\n      }\n    }\n  };\n}\n","export default function() {\n  let stimulateVid = $('#stimulate-video')[0];\n\n  return {\n    seek: function(progress) {\n      if (progress > 4 && progress < 34) {\n        if (stimulateVid.paused) {\n          stimulateVid.muted = true;\n          stimulateVid.play();\n        }\n      } else {\n        stimulateVid.pause();\n      }\n    },\n  };\n}\n","import anime from 'animejs';\n\nlet text = 'I AM THE STORY BEHIND THE CODE';\n\nexport default function() {\n  let $section = $('#story-section').append(text.split(' ').map(x => $(`<p class=\"word\"><b>${x}</b></p>`).addClass(x == 'BEHIND' ? 'l' : '')));\n  let $words = $section.find('.word');\n  let step = 1 / $words.length;\n  let timeline = anime.timeline({\n    autoplay: false,\n    easing: 'linear',\n  });\n  let fontSize;\n\n  return {\n    setup: function({winWidth, winHeight}) {\n      fitWordWidth($section.css('font-size', fontSize = 60).find('.l b'));\n      let wordHeight = $words.eq(0).height();\n      let wTop = -winHeight / 2 - wordHeight / 2 - 10;\n      let frac = -wordHeight / wTop * 0.75;\n      wTop = wTop + 'px';\n      $words.each(function(index, word) {\n        timeline.remove(word);\n        $(word).css({transform: '', opacity: ''});\n      });\n\n      $words.each(function(index, word) {\n        let firstOffset = index * step * frac;\n        let secondOffset = step + index * step * frac;\n        addStep({opacity: [0, 1], easing: 'easeInCubic'}, firstOffset, 0.9);\n        addStep({translateY: [0, wTop]}, firstOffset);\n\n        if (index < $words.length - 1) {\n          addStep({opacity: [1, 0], easing: 'easeOutQuart'}, secondOffset);\n          addStep({translateY: [wTop, -winHeight - wordHeight + 'px']}, secondOffset);\n        } else {\n          addStep({scale: [1, 14], easing: 'easeInQuad'}, step * 0.4 + secondOffset, 0.6);\n          addStep({opacity: [1, 0], easing: 'easeInQuad'}, step * 0.2 + secondOffset, 0.8);\n        }\n\n        function addStep(props, offset, mul = 1) {\n          timeline.add($.extend({\n            targets: word,\n            duration: step * mul,\n          }, props), offset);\n        }\n      });\n\n      function fitWordWidth($word) {\n        while ($word.width() < winWidth * 0.96 && fontSize < 400) {\n          $section.css('font-size', fontSize++);\n        }\n      }\n    },\n    seek: function(progress, {story}) {\n      timeline.seek(story.m * timeline.duration);\n    }\n  };\n}\n","import anime from 'animejs';\n\nexport default function() {\n  let $screamPage = $('#scream-page');\n  let $theStory = $screamPage.find('.the-story');\n  let $content = $screamPage.find('.content-section');\n\n  $('.read-btn').on('click', function() {\n    $screamPage.addClass('show-content');\n    $('.btn-div').css('overflow', 'visible');\n    setTimeout(reveal, 400);\n  });\n\n  $('.bottom-btn').on('click', function() {\n    $screamPage.removeClass('show-content');\n    conceal();\n  });\n\n  // $win.on('menuChange', function(e, show) {\n  //   show = !!show;\n  //   $screamPage.toggleClass('show-content', show);\n  //   !show && conceal();\n  //   $('.btn-div').css('overflow', '');\n  // });\n\n  return {\n    $root: $screamPage,\n    times: {title: 200, page: 20},\n    activate: function() {\n\n    },\n    deactivate: function() {\n\n    },\n  };\n\n  function conceal() {\n    anime({\n      targets: [$content[0], $content.find('.container')[0]],\n      opacity: [1, 0],\n      easing: 'easeOutQuad',\n      duration: 1200,\n    });\n    anime({\n      targets: '#scream-read',\n      opacity: [0, 0.75],\n      easing: 'linear',\n      duration: 2000,\n    });\n    anime({\n      targets: '#scream-read svg',\n      scale: [170, 1],\n      easing: 'linear',\n      duration: 2000,\n    });\n  }\n\n  function reveal() {\n    showText($theStory[0], 0);\n    showText($theStory[1], 1200);\n    showText($theStory[2], 2500);\n    opacityEaseInQuad($content[0], 4000);\n    opacityEaseInQuad($content.find('.container')[0], 6000);\n\n    anime({\n      targets: '#scream-read',\n      opacity: [0.75, 0],\n      easing: 'linear',\n      duration: 7000,\n    });\n\n    anime({\n      targets: '#scream-read svg',\n      scale: [1, 170],\n      easing: 'linear',\n      duration: 7000,\n    });\n\n    function opacityEaseInQuad(el, delay) {\n      anime({\n        targets: el,\n        opacity: [0, 1],\n        easing: 'easeInQuad',\n        duration: 1200,\n        delay,\n      });\n    }\n\n    function showText(el, delay = 0) {\n      anime({\n        targets: el,\n        scale: [0.05, 9],\n        opacity: [0, 1],\n        easing: 'easeInCirc',\n        duration: 2000,\n        delay,\n      });\n      setTimeout(function() {\n        anime({\n          targets: el,\n          opacity: [1, 0],\n          scale: [9, 70],\n          easing: 'easeOutSine',\n          duration: 3200,\n        });\n      }, 2000 + delay);\n    }\n  }\n}\n\n","export default function(id, times = {title: 2020, page: 800}) {\n  let $page = $('#' + id + '-page');\n  let $slides = $page.find('.carousel-slides');\n  let $carouselTop =  $page.find('.carousel-top');\n  let carousel = $page.find('.carousel-wrap')[0];\n\n  function resize() {\n    $('#intro-extra').appendTo($win.width() > 768 ? '#snake-intro' : '#carousel-inner');\n  }\n\n  function scroll() {\n    let bounds = carousel.getBoundingClientRect();\n    let winHeight = $win.height();\n    let progress = Math.min(1, Math.max(0, (bounds.top) / (winHeight + bounds.top - bounds.bottom)));\n    $slides.css('left', $win.width() - $slides.outerWidth() * progress);\n    $carouselTop.css('transform', `translateY(${Math.max(0, bounds.top)}px)`);\n  }\n\n  return {\n    $root: $page,\n    times,\n    activate: function() {\n      resize();\n      $win.on('resize.static', resize);\n      if ($slides.length) {\n        scroll();\n        $win.on('scroll.static', scroll);\n      }\n    },\n    deactivate: function() {\n      $win.off('.static');\n    },\n  };\n}\n","function carousel() {\n  let $section = $(this);\n  let $slides = $section.find('.slide');\n  let $dots = createDots();\n  let index = -1;\n  select(0);\n  $section.find('.nav-buttons .btn').on('click', function() {\n    let dir = $(this).data('arg');\n    let newIndex = index + dir < 0 ? $slides.length - 1 : index + dir > $slides.length - 1 ? 0 : index + dir;\n    $slides.eq(index).css('left', -102 * dir + '%');\n    $slides.eq(newIndex).addClass('stop').css('left', 102 * dir + '%');\n    setTimeout(function() {\n      $slides.eq(newIndex).removeClass('stop').css('left', 0);\n    });\n    index = newIndex;\n    $dots.removeClass('active').eq(index).addClass('active');\n  });\n\n  $dots.on('click', function() {\n    select($(this).index());\n  });\n\n  function createDots() {\n    let $btns = $section.find('.buttons');\n    for (var i = 0; i < $slides.length; i++) {\n      $btns.append('<div class=\"dot\"></div>');\n    }\n    return $btns.children();\n  }\n\n  function select(newIndex) {\n    if (index != newIndex) {\n      index = newIndex;\n      for (let i = 0; i < $slides.length; i++) {\n        $slides.eq(i).css('left', (i - index) * 102 + '%');\n      }\n      $dots.removeClass('active').eq(index).addClass('active');\n    }\n  }\n}\n\n$.fn.carousel = function () {\n  return this.each(carousel);\n};\n","import {getProp} from 'setjs/utility/objects.js';\n\nvar defData = {};\n\nexport function fatal(msg, info, ...extra) {\n  throw {msg, info, extra};\n}\n\nexport function getPropDef(propPath, data) {\n  return getProp(propPath, data, defData);\n}\n\nexport function getDefData(name) {\n  return defData['@' + name];\n}\n\nexport function setDefData(name, val) {\n  defData['@' + name] = val;\n}\n\nexport function dataForName(name, data) {\n  return name in data ? data : name in defData ? defData : null;\n}\n","import {sort, removeFromListByValue} from 'setjs/utility/array.js';\nimport eventTypes from 'config/event-types.js';\n\nvar events = {};\n\n$.each(eventTypes, function (i, v) {\n  events[v] = [];\n});\n\nvar eventManager = {\n  route: function(route) {\n    eventManager.raiseEvent(eventTypes.init || eventTypes.route, route);\n    delete events[eventTypes.init];\n    eventTypes.init = 0;\n  },\n  addListener: function (type, config, method, data) {\n    var listener = {priority: config.priority || 3, config, method, data, hasData: arguments.length > 3};\n    events[type].push(listener);\n    sort(events[type], 'priority');\n    if (typeof method != 'function') {\n      throw 'Not a function';\n    }\n    return listener;\n  },\n  removeListener: function (type, listener) {\n    listener && removeFromListByValue(events[type], listener.method || listener, 'method');\n  },\n  raiseEvent: function (type, ..._args) {\n    events[type].forEach(function (item) {\n      var args = _args.slice();\n      try {\n        if (item.hasData) {\n          args.unshift(item.data);\n        }\n        item.method(...args);\n      } catch (e) {\n        throw {type, item, args, e};\n      }\n    });\n  }\n};\n\neventManager.addListener(eventTypes.unload, {p: 'em', priority: 5}, function() {\n  $.each(events, function(name, list) {\n    for (var i = list.length - 1; i >= 0; i--) {\n      if (list[i].config.pageOnly) {\n        list.splice(i, 1);\n      }\n    }\n  });\n});\n\nexport {eventTypes};\nexport default eventManager;\n\nexport function addEventListeners(types, ...args) {\n  var listeners = [];\n  types.forEach(function(type) {\n    listeners.push(eventManager.addListener(type, ...args));\n  });\n  return listeners;\n}\n","import router from 'Router';\nimport {getQsMap, makeQs} from 'setjs/utility/browser.js';\n\nvar setjs = {};\nvar currentRoute = {};\nvar oldRoute, skipRout;\n\nexport function makeRoute(path) {\n  var i, route;\n  var parts = path.split('/');\n  var lang = setjs.lang() && parts.splice(0, 1)[0];\n  route = {\n    lang,\n    path: parts.join('/'),\n    pageId: parts[0] || '',\n    slug: parts[1],\n    id: parts[2],\n    qs: getQsMap(),\n  };\n  for (i = 3; i < parts.length; i++) {\n    route['id' + (i - 1)] = parts[i];\n  }\n  return route;\n}\n\nfunction baseRouteHandler(path) {\n  let newRoute = makeRoute(path);\n  let fixedPath = setjs.fixPath(path);\n  let lang = setjs.lang();\n  if (path != fixedPath) {\n    setRoute(newRoute.path);\n  } else if (!lang || lang == newRoute.lang) {\n    oldRoute = currentRoute;\n    currentRoute = newRoute;\n    if (!skipRout) {\n      setjs.handleRoute(currentRoute);\n    }\n    skipRout = 0;\n  } else {\n    setRoute(path);\n  }\n}\n\nexport function setRoute(newRoute, _skipRout) {\n  skipRout = _skipRout;\n  router.fire(setjs.getLink(newRoute));\n}\n\nexport function setQs(qsObj) {\n  setRoute(currentRoute.path + makeQs(qsObj, 1), 1);\n}\n\nexport function prevRoute() {\n  return oldRoute;\n}\n\nexport function getRoute() {\n  return currentRoute;\n}\n\nexport function reloadPage() {\n  setjs.handleRoute(currentRoute);\n}\n\nexport function initSetjs(setjsExt) {\n  $.extend(setjs, setjsExt);\n}\n\nexport function startApp() {\n  router.init(baseRouteHandler);\n}\n\nexport default setjs;\n","$(document).on('click', function(e) {\n  var $menuBtn = $('.menu-dropdown-btn');\n  var $found = $menuBtn.find(e.target).add($menuBtn.filter(e.target));\n\n  if ($(e.target).closest('.prevent-close').length) {\n    return;\n  }\n\n  if ($found.length) {\n    var $menu = $found.closest('.menu-dropdown');\n    $menu.toggleClass('open');\n    $('.menu-dropdown.open').not($menu).removeClass('open');\n    $('body').toggleClass('dropdown', $menu.hasClass('open'));\n\n    return !$menu.length;\n  } else {\n    $('.menu-dropdown.open').removeClass('open');\n    $('body').removeClass('dropdown');\n  }\n});\n","import {addFuncs} from 'core/acts-funcs.js';\nimport {slugify, capitalize} from 'setjs/utility/strings.js';\n\nfunction number(val) {\n  return isNaN(val) ? 0 : +val;\n}\n\naddFuncs({\n  slugify,\n  capitalize,\n  lowercase: function(str) {\n    return str.toLowerCase();\n  },\n  number: function(val, opts, def) {\n    return number(val == undefined ? def : val);\n  },\n  prefix: function(val, opts, ...strList) {\n    return strList.join('') + val;\n  },\n  suffix: function(val, opts, ...strList) {\n    return val + strList.join('');\n  },\n  wrap: function(val, opts, left, right) {\n    return left + val + right;\n  },\n  str: function(val, opts, def = '') {\n    return (val != undefined && val.toString && val.toString()) || def;\n  },\n  fixed: function(val, opts, places) {\n    return number(val).toFixed(places);\n  },\n  equal: function(val, opts, other) {\n    return other == val;\n  },\n  testFlag: function(val, opts, flag) {\n    flag = +flag;\n    return (val & flag) == flag;\n  },\n  bool: function(val) {\n    return !!val;\n  },\n  percent: function(val) {\n    return number(val) + '%';\n  },\n  round: function(val) {\n    return Math.round(number(val));\n  },\n  floor: function(val) {\n    return Math.floor(number(val));\n  },\n  ceil: function(val) {\n    return Math.ceil(number(val));\n  },\n  not: function(val) {\n    return !val;\n  },\n  negate: function(val) {\n    return -number(val);\n  },\n  json: function(val) {\n    return JSON.parse(val);\n  },\n  either: function(condition, opts, val1, val2) {\n    return condition ? val1 : val2;\n  },\n  commaList: function(list) {\n    return list.join(', ');\n  },\n  lowerCase: function(val) {\n    return val.toLowerCase();\n  },\n  includes: function(list, opts, item) {\n    return list && list.indexOf(item) >= 0;\n  },\n  inList: function(val, opts, ...list) {\n    return list && list.indexOf(val) >= 0;\n  },\n});\n","import {addFuncs} from 'core/acts-funcs.js';\n\naddFuncs({\n  dump: function(val, opts) {\n    opts.$el.html(JSON.stringify(val, null, 2));\n  },\n  log: function(val) {\n    console.log(val);\n  },\n});\n","import {addFuncs} from 'core/acts-funcs.js';\n\naddFuncs({\n  t: function (val, opts) {\n    opts.$el.text(val);\n  },\n  h: function (val, opts) {\n    opts.$el.html(val);\n  },\n  gt: function(val, opts, other, add) {\n    return val > (+other + (+add || 0));\n  },\n  lt: function(val, opts, other, add) {\n    return val < (+other + (+add || 0));\n  },\n  plurify: function(number, {$el}, singular, plural) {\n    plural = plural || singular + 's';\n    number = number || 0;\n    $el.text(number + ' ' + (number == 1 ? singular : plural));\n  },\n  test: function(str, opts, pattern) {\n    return RegExp(pattern).test(str);\n  },\n});\n","var baseRouteHandler;\n\nfunction processRoute() {\n  baseRouteHandler(getPath());\n}\n\nfunction getPath() {\n  return document.location.pathname.replace(/^(\\/)/, '');\n}\n\nexport default {\n  getPath,\n  prefix: '/',\n  fire: function(route) {\n    window.history.pushState({}, document.title, route);\n    processRoute();\n  },\n  init: function(routeHandler) {\n    baseRouteHandler = routeHandler;\n    window.onpopstate = processRoute;\n    processRoute();\n  }\n};\n","import {fatal, getPropDef, dataForName} from 'setjs/kernel/basics.js';\nimport eventManager, {eventTypes} from 'setjs/kernel/event-manager.js';\nimport {func} from 'core/acts-funcs.js';\n\nvar watchSet = new Set();\nvar watchMap = new WeakMap();\n\neventManager.addListener(eventTypes.loaded, 'binding', updateWatches);\n\nfunction getStatements(bindingStr) {\n  var statements = [];\n  var opType = ';';\n  var start = 0;\n  var strip = 0;\n  var i, char, escape;\n\n  for (i = 0; i < bindingStr.length; i++) {\n    char = bindingStr[i];\n    if (char == '`' && bindingStr[i - 1] != '\\\\') {\n      escape = !escape;\n      if (escape && start < i) {\n        parseError(char);\n      }\n      strip = 1;\n    } else if (!escape && (char == ';' || char == ',' || char == '|' || char == ':')) {\n      pushOp();\n      opType = char;\n    }\n  }\n  if (start < i + 1) {\n    pushOp();\n  }\n  return statements;\n\n  function pushOp() {\n    if (escape) {\n      parseError('`');\n    }\n    var item = {\n      o: opType,\n      v: bindingStr.slice(start + strip, i - strip),\n      s: strip,\n    };\n    if (opType != ',' && !item.v) {\n      parseError('val needed');\n    }\n    statements.push(item);\n    start = i + 1; // +1, as \"i\" has not yet incremented in the for loop\n    strip = 0;\n  }\n\n  function parseError(msg) {\n    fatal('bind:' + msg, start, bindingStr);\n  }\n}\n\nfunction createBindings(bindingStr, rdata, isIf) {\n  var bindings = [];\n  var statements = getStatements(bindingStr);\n  var binding, funcBinding;\n  statements.forEach(function(statement) {\n    if (statement.o == ';' || (statement.o == ':' && isIf)) {\n      bindings.push(statement);\n      binding = statement;\n    } else if (statement.o == '|' && !binding.g) {\n      binding.f = binding.f || [];\n      pushFunc(binding.f, statement);\n    } else if (statement.o == ',') {\n      let statementVal = statement.v;\n      funcBinding.p = funcBinding.p || [];\n      statement.s = 1; // literal by default\n      if (statementVal[0] == '~') {\n        statement.v = statementVal.slice(1);\n        if (statement.v[0] != '~') {\n          statement.s = 0; // not a literal\n        }\n      }\n      funcBinding.p.push(statement);\n    } else { // either \"|\" or \":\"\n      let groups = binding.g = binding.g || [];\n      statement.o == ':' && groups.push([]);\n      pushFunc(groups[groups.length - 1], statement);\n    }\n  });\n  return bindings;\n\n  function pushFunc(list, statement) {\n    var funcName = statement.v;\n    funcBinding = {f: rdata[funcName] || func(funcName)};\n    if (typeof funcBinding.f != 'function') {\n      fatal(funcName + ' is not a function', bindingStr, rdata);\n    }\n    list.push(funcBinding);\n  }\n}\n\nfunction getBindingVal(binding, opts) {\n  var val = binding.v;\n  if (!binding.s) {\n    if (val == '_') {\n      val = opts.data;\n    } else if (val == '#') {\n      val = '';\n    } else {\n      val = getPropDef(val, opts.data);\n      if (typeof val == 'function') {\n        val = val(opts);\n      }\n    }\n  }\n  return val;\n}\n\nfunction runFuncs(funcs, opts, val, applyText) {\n  if (funcs) {\n    funcs.forEach(function(funcBinding) {\n      var args = [val, opts];\n      funcBinding.p && funcBinding.p.forEach(param => {\n        args.push(param.s ? param.v : getBindingVal(param, opts));\n      });\n      val = funcBinding.f.apply(opts, args);\n    });\n  } else if (applyText) {\n    opts.$el.text(val);\n  }\n  return val;\n}\n\nfunction getGroupVal(binding, opts, applyText) {\n  return runFuncs(binding.f, opts, getBindingVal(binding, opts), applyText);\n}\n\nexport function processIf($el, comp, data, dataIf) {\n  let remove = 1;\n  let bindings = createBindings(dataIf, (comp.rComp || comp).data, 1);\n  let opts = {$el, comp, data};\n  let groups = [];\n  $.each(bindings, function(i, binding) {\n    if (binding.o == ';') {\n      groups.push([binding]);\n    } else {\n      groups[groups.length - 1].push(binding);\n    }\n  });\n  $.each(groups, function(i, group) {\n    $.each(group, function(i, binding) {\n      remove = !getGroupVal(binding, opts);\n      return remove;\n    });\n    return !remove;\n  });\n  if (remove) {\n    let $next = $el.next('[data-elif]');\n    $el.remove();\n    if ($next.length) {\n      processIf($next, comp, data, $next.data('elif'));\n    }\n  } else {\n    $el.nextUntil(':not([data-elif])').remove();\n    $el.next('[data-else]').remove();\n  }\n  return remove;\n}\n\nfunction runBinding(binding, opts) {\n  let groupVal = getGroupVal(binding, opts, !binding.g);\n  binding.g && binding.g.forEach(function(group) {\n    runFuncs(group, opts, groupVal, 1);\n  });\n}\n\nexport function applyBindings($el, comp, data) {\n  let bindings = createBindings($el.data('bind'), (comp.rComp || comp).data);\n  let opts = {$el, comp, data};\n  bindings.forEach(function(binding) {\n    runBinding(binding, opts);\n  });\n}\n\nfunction ensureWatch(obj) {\n  let watch = watchMap.get(obj);\n  if (!watch) {\n    watch = {obj, props: new Set(), acts: new Set()};\n    watchMap.set(obj, watch);\n    watchSet.add(obj);\n  }\n  return watch;\n}\n\nfunction objChange(parentWatch, oldVal, newVal) {\n  let watch = watchMap.get(oldVal);\n  if (watch) {\n    let newWatch = ensureWatch(newVal);\n    let found = new Set();\n    watch.props.forEach(key => {\n      setupWatch(newWatch, newVal, key);\n      objChange(watch, watch.obj[key], newWatch.obj[key]);\n    });\n    for (let pAct of parentWatch.acts) {\n      for (let wAct of watch.acts) {\n        if (wAct == pAct) {\n          found.add(wAct);\n        }\n      }\n    }\n    for (let act of found) {\n      newWatch.acts.add(act);\n      watch.acts.delete(act);\n      if (act.watch) {\n        act.watch = newWatch;\n        runBinding(act.binding, act.opts);\n      }\n    }\n    cleanupWatch(oldVal);\n  }\n}\n\nfunction setupWatch(watch, obj, key) {\n  if (!watch.props.has(key)) {\n    watch.props.add(key);\n    let val = obj[key];\n    Object.defineProperty(obj, key, {\n      get () {\n        return val;\n      },\n      set (newVal) {\n        if (val !== newVal) {\n          let oldVal = val;\n          val = newVal;\n          objChange(watch, oldVal, newVal);\n          watch.acts.forEach(act => {\n            if (act.watch == watch) {\n              runBinding(act.binding, act.opts);\n            }\n          });\n        }\n      }\n    });\n  }\n}\n\nfunction processWatch(parts, data, act) {\n  let key = parts.shift();\n  let obj = dataForName(key, data);\n  if (obj) {\n    let watch = ensureWatch(obj);\n    let val = obj[key];\n    watch.acts.add(act);\n    setupWatch(watch, obj, key);\n    if (parts.length) {\n      processWatch(parts, val, act);\n    } else {\n      act.watch = watch;\n      runBinding(act.binding, act.opts);\n    }\n  }\n}\n\nexport function cleanupWatch(obj) {\n  var watch = watchMap.get(obj);\n  if (watch) {\n    let remove = [];\n    watch.props.forEach(key => {\n      cleanupWatch(obj[key]);\n    });\n    watch.acts.forEach(act => {\n      if (!act.opts.$el.data('watched')) {\n        remove.push(act);\n      }\n    });\n    remove.forEach(act => {\n      watch.acts.delete(act);\n    });\n    if (!watch.acts.size) {\n      watchMap.delete(obj);\n      watchSet.delete(obj);\n    }\n  }\n}\n\nexport function updateWatches() {\n  watchSet.forEach(obj => {\n    cleanupWatch(obj);\n  });\n}\n\nexport function applyWatch($el, comp, data) {\n  let opts = {$el: $el.data('watched', 1), comp, data};\n  let bindings = createBindings($el.data('watch'), (comp.rComp || comp).data);\n  bindings.forEach(binding => {\n    processWatch(binding.v.split('.'), data, {binding, opts});\n  });\n}\n","import {fatal} from 'setjs/kernel/basics.js';\nimport setjs from 'setjs/kernel/setjs.js';\nimport {applyBindings, processIf, applyWatch, cleanupWatch} from 'setjs/template/binding.js';\nimport {bindEvents} from 'setjs/template/events.js';\nimport {storeItemByName, dataAttrFind, dataAttrFunc} from 'setjs/utility/comp-helpers.js';\nimport {configData, getConfigTemplate, tmpStr} from 'setjs/template/template-config.js';\nimport {getTemplate} from 'setjs/template/templates.js';\nimport {func} from 'core/acts-funcs.js';\n\nfunction processSlot($item, comp, data, slotConfig, forceReplace) {\n  let slotComp = createComponent(getConfigTemplate('slot', slotConfig, $item.data('tname')), configData(slotConfig, data), comp.actions, comp);\n  $item.empty();\n  if (slotComp) {\n    slotComp.$root.data('slotConfig', slotConfig);\n    storeItemByName(comp, slotConfig.name || $item.data('name'), slotComp);\n    if (slotConfig.replace || forceReplace) {\n      $item.replaceWith(slotComp.$root);\n    } else {\n      $item.append(slotComp.$root);\n    }\n  } else if (slotConfig.replace) {\n    $item.remove();\n  }\n}\n\nfunction renderList(comp, data, listData) {\n  var config = listData.c;\n  var oldList = listData.list;\n  var index = 0;\n  var list = listData.list = [];\n  var rd = comp.rComp && comp.rComp.data || data;\n  listData.$el.empty();\n  $.each(configData(config, data), appendItem);\n  if (!list.length && (config.alt || config.sub)) {\n    listData.$el.append(createComponent(getTemplate(config.alt, config.sub), $.extend({rd, pd: data}, listData), comp.actions, comp).$root);\n  }\n  listData.$elements = listData.$el.children();\n  oldList && oldList.forEach(comp => {\n    cleanupWatch(comp.data);\n  });\n  if (listData.name) {\n    listData.append = function(items) {\n      $.each(items, function(key, val) {\n        appendItem(key, val, 1);\n      });\n      listData.$elements = listData.$el.children();\n    };\n  }\n\n  function appendItem(key, val, compUpdate) {\n    var itemData = {\n      [listData.d]: index,\n      [listData.i]: ++index,\n      [listData.k]: key,\n      [listData.v]: val,\n      c: config,\n      pd: data,\n      rd: rd,\n    };\n    var itemComp = createComponent((config.tf && (rd[config.tf] || func(config.tf))(itemData, comp, listData)) || listData.t, itemData, comp.actions, comp);\n    if (itemComp) {\n      listData.$el.append(itemComp.$root);\n      list.push(itemComp);\n      compUpdate && setjs.compUpdate(itemComp.$root);\n    }\n  }\n}\n\nfunction createList($el, comp, data) {\n  var config = $el.data('list');\n  var template = getConfigTemplate('list', config, $el.data('tname'));\n  var listData = $.extend({name: config.name || $el.data('name'), $el, c: config, t: template, i: 'index', k: 'key', v: 'val', d: 'dex'}, config.vars);\n  storeItemByName(comp, listData.name, listData);\n  renderList(comp, data, listData);\n}\n\n/**\n * Builds a template\n * @param {Object} templateStr - The template html string\n * @param {Object} pComp - The parent component (if any)\n * @param {Object} data - component data\n * @param {Object} actions - event handlers\n * @return {Object} returns the compiled template\n */\nfunction createComponent(templateStr, data, actions, pComp) {\n  var $root, tmpRoot, $watchElements, $bindingElements, $actElements, $listElements, comp;\n  data = data || {};\n  actions = actions || {};\n  $root = $(tmpStr(templateStr, data));\n  comp = {\n    data,\n    actions,\n    rComp: pComp && pComp.rComp || pComp,\n    pComp,\n    update: function($selection) {\n      if (!($selection && $selection.jquery)) {\n        $selection = $bindingElements;\n      }\n      $selection.each(function(i, el) {\n        applyBindings($(el), comp, data);\n      });\n      setjs.compUpdate($selection);\n    },\n    renderSlot: function(name) {\n      let slotComp = comp[name];\n      if (slotComp) {\n        delete comp[name];\n        processSlot(slotComp.$root, comp, data, slotComp.$root.data('slotConfig'), 1);\n        setjs.compUpdate(comp[name].$root);\n        cleanupWatch(slotComp.data);\n      }\n    },\n    renderList: function() {\n      $.each(arguments, function(i, name) {\n        if (comp[name]) {\n          renderList(comp, data, comp[name]);\n          setjs.compUpdate(comp[name].$el);\n        }\n      });\n  }};\n  if ($root.length > 1) {\n    tmpRoot = 1;\n    $root = $('<div>').append($root);\n  } else if ($root.data('if') && processIf($root, comp, data, $root.data('if'))) {\n    return;\n  }\n  dataAttrFunc($root, 'if', function($item, dataIf) {\n    processIf($item, comp, data, dataIf);\n  }, 1);\n  if (tmpRoot) {\n    $root = $root.children();\n  }\n  if (!$root.length) {\n    return;\n  }\n  dataAttrFunc($root, 'src', function($item, src) {\n    $item.attr('src', src);\n  });\n  dataAttrFunc($root, 'val', function($item, val) {\n    $item.attr('value', val);\n  });\n  comp.$root = $root.data('comp', comp);\n  $watchElements = dataAttrFind($root, 'watch');\n  $bindingElements = dataAttrFind($root, 'bind');\n  $actElements = dataAttrFind($root, 'act');\n  $listElements = dataAttrFind($root, 'list');\n  dataAttrFunc($root, 'name', function($item, name) {\n    name = '$' + name;\n    if (comp[name]) {\n      fatal('Repeat name', name);\n    }\n    comp[name] = $item;\n  });\n  // You cannot call dataAttrFunc() after this, as this might add items which can affect the selection\n  dataAttrFunc($root, 'slot', function($item, slotConfig) {\n    processSlot($item, comp, data, slotConfig);\n  });\n  $listElements.each(function(i, item) {\n    createList($(item), comp, data);\n  });\n  $bindingElements.each(function(i, item) {\n    applyBindings($(item), comp, data);\n  });\n  $watchElements.each(function(i, item) {\n    applyWatch($(item), comp, data);\n  });\n  $actElements.each(function(i, item) {\n    bindEvents($(item), comp, data, actions);\n  });\n  !pComp && setjs.compUpdate($root);\n  return comp;\n}\n\nexport default function(templateName, data, actions, pComp) {\n  return createComponent(getTemplate(templateName), data, actions, pComp);\n}\n","import setjs from 'setjs/kernel/setjs.js';\nimport {act} from 'core/acts-funcs.js';\n\nvar events = {\n  down: 'mousedown touchstart',\n  up: 'mouseup touchend',\n  out: 'mouseleave touchleave touchcancel',\n  move: 'mousemove touchmove',\n  form: 'submit',\n};\n\nexport function bindEvents($el, comp, data, actions) {\n  let name = $el.data('name');\n  let acts = ($el.data('act') || '').split(' ');\n  acts.forEach(function(action) {\n    $el.on(events[action] || action, function(e) {\n      var funcName = $el.data('func') || action;\n      var args = {$el, name, action, comp, e, data, arg: $el.data('arg')};\n      setjs.handleEvent(args, actions[funcName] || act(funcName));\n    });\n  });\n}\n","import {fatal, getPropDef} from 'setjs/kernel/basics.js';\nimport {func} from 'core/acts-funcs.js';\nimport {getTemplate} from 'setjs/template/templates.js';\n\nexport function getConfigTemplate(callerName, config, tId) {\n  var templateStr = getTemplate(tId || config.t);\n  if (typeof config != 'object') {\n    fatal('Bad JSON in data-' + callerName, config);\n  }\n  if (!templateStr) {\n    fatal('Invalid data-' + callerName, config);\n  }\n  $.each(config.vars, function(name, val) {\n    templateStr = templateStr.replace(RegExp('{(o:)?' + name + '}', 'g'), val);\n  });\n  $.each(config.subs, function(name, val) {\n    templateStr = templateStr.replace(RegExp(name, 'g'), val);\n  });\n  return templateStr;\n}\n\nexport function configData(config, data) {\n  var funcName = config.func;\n  var source = config.prop ? getPropDef(config.prop, data) : data;\n  if (funcName) {\n    let dataFunc = (data.rd || data)[funcName] || func(funcName);\n    typeof dataFunc != 'function' && fatal('Not a function', funcName, config, data);\n    source = dataFunc(source, config, data);\n  }\n  return source;\n}\n\nexport function tmpStr(templateStr, data) {\n  return templateStr.replace(/{(?:(o):)?([^{}]+)}/g,\n    function(match, group1, group2) {\n      let result = getPropDef(group2, data);\n      if (typeof result == 'function') {\n        result = result(data);\n      }\n      return typeof result == 'string' || typeof result == 'number' ? result : group1 ? '' : match;\n    }\n  );\n}\n","import {fatal} from 'setjs/kernel/basics.js';\nimport {dataAttrFunc} from 'setjs/utility/comp-helpers.js';\n\nvar templates = {};\nvar doneUrls = {};\nvar tId = 1;\n\nexport function ensureTemplates({urls = [], success, error}) {\n  var done = 0;\n  urls = urls.filter(url => !doneUrls[url]);\n  if (!urls.length) {\n    success();\n  }\n  urls.forEach(function(url) {\n    $.get(url)\n      .done(function(templateStr) {\n        !doneUrls[url] && loadTemplates(templateStr);\n        doneUrls[url] = true;\n        if (++done == urls.length) {\n          success();\n        }\n      })\n      .fail(error);\n  });\n}\n\nfunction extractHtml($el) {\n  var elHtml = $el.html();\n  var config = $el.data('list') || $el.data('slot');\n  let tName = config.t;\n  if (!tName && !config.tf) {\n    tName = 't_' + tId++;\n    templates[tName] = elHtml;\n  }\n  $el.attr('data-tname', tName).empty();\n}\n\nfunction inlineTemplates($parent) {\n  var selector = '[data-list], [data-slot]';\n  var $children = $parent.find(selector);\n  var tree = [];\n  if ($children.length) {\n    $children.each(function(index, el) {\n      var $el = $(el);\n      var depth = $el.parents(selector).length;\n      tree[depth] = tree[depth] || [];\n      tree[depth].push($el);\n    });\n    tree.reverse().forEach(function(branch) {\n      branch.forEach(extractHtml);\n    });\n  }\n  $parent = $parent.filter(selector);\n  $parent.length && extractHtml($parent);\n}\n\nexport function loadTemplates(templateStr) {\n  var $html = $(templateStr);\n  dataAttrFunc($html, 'template', function($item, name) {\n    if (templates[name]) {\n      fatal('Template exists', name);\n    }\n    inlineTemplates($item);\n    templates[name] = $item[0].outerHTML;\n  });\n}\n\nexport function getTemplate(templateName, alt) {\n  if (templates[templateName] || alt) {\n    return templates[templateName] || alt;\n  } else {\n    fatal('No such template', templateName);\n  }\n}\n","export function sort (items, prop, direction) {\n  if (!items) {\n     return;\n  }\n  direction = direction || 1;\n  items.sort(function (a, b) {\n     if (a[prop] > b[prop]) {\n        return direction;\n     }\n     if (a[prop] < b[prop]) {\n        return direction * -1;\n     }\n     return 0;\n  });\n  return items;\n}\n\nexport function removeFromList(list, value) {\n  for (var i = 0; i < list.length; i++) {\n    if (list[i] == value) {\n      list.splice(i, 1);\n      return i;\n    }\n  }\n}\n\nexport function removeFromListByValue(list, value, prop1, prop2) {\n  for (var i = list.length - 1; i >= 0 ; i--) {\n    if (list[i][prop1] == value || (arguments.length > 3 && list[i][prop2] == value)) {\n      list.splice(i, 1);\n      return i;\n    }\n  }\n}\n\nexport function indexOf(list, value, prop) {\n  for (var i = 0; i < list.length; i++) {\n     if ((prop ? list[i][prop] : list[i]) === value) {\n        return i;\n     }\n  }\n  return -1;\n}\n\n//Knuth-Fisher-Yates\nexport function shuffle(array) {\n  var counter = array.length, temp, index;\n  while (counter > 0) {\n    index = Math.floor(Math.random() * counter);\n    counter--;\n    temp = array[counter];\n    array[counter] = array[index];\n    array[index] = temp;\n  }\n  return array;\n}\n\nexport function getUniqueList(list, prop) {\n  var unique = [];\n  var done = {};\n  list.forEach(function(obj) {\n    var thing = obj[prop];\n    if (!done[thing]) {\n      done[thing] = 1;\n      unique.push(thing);\n    }\n  });\n  return unique;\n}\n\nexport function obtain(list, value, prop1, prop2, prop3) {\n  for (var i = 0; i < list.length; i++) {\n    if (list[i][prop1] == value || (arguments.length > 3 && list[i][prop2] == value) || (arguments.length > 4 && list[i][prop3] == value)) {\n      return {index: i, val: list[i]};\n    }\n  }\n}\n\nexport function getVal(list, value, ...props) {\n  var result = obtain(list, value, ...props);\n  return result && result.val;\n}\n\nexport function randItem(list) {\n  return list[Math.floor(Math.random() * list.length)];\n}\n\nexport function randItems(list, count) {\n  return shuffle(list.slice()).slice(0, count);\n}\n\nexport function spinIndex(limit, change, current = 0) {\n  var index = current + change;\n  limit = limit.length || limit;\n  if (index < 0) {\n    index += limit;\n  }\n  return index % limit;\n}\n\nexport function listOverlap(list1, list2, prop) {\n  var overlap = [];\n  list1.forEach(one => {\n    if (prop) {\n      let found = obtain(list2, one[prop], prop);\n      if (found) {\n        overlap.push(one);\n      }\n    } else {\n      if (list2.indexOf(one) >= 0) {\n        overlap.push(one);\n      }\n    }\n  });\n  return overlap;\n}\n","var loaded = {};\n\nexport function getFileMimeType(file, callback) {\n  if (window.File && window.FileReader && window.FileList && window.Blob) {\n    var filereader = new FileReader();\n    filereader.onload = function(evt) {\n      var hex = Array.prototype.slice.call(new Uint8Array(evt.target.result)).map(x => x.toString(16)).join('').toUpperCase();\n      var reg = /^(FFD8FF(?:DB|E[01238]))|^(89504E47)|^(47494638)/;\n      var result = hex.replace(reg, function(m, jpg, png, gif) {\n        return jpg ? 'jpeg' : (png ? 'png' : (gif ? 'gif' : ''));\n      });\n      var type = (reg.test(hex) && `image/${result}`) || file.type || '';\n      var ext = type.split('/')[1];\n      callback(type, ext == 'jpeg' ? 'jpg' : ext);\n    };\n    filereader.onerror = function() {\n      callback(file.type, file.type && file.type.split('/')[1]);\n    };\n    filereader.readAsArrayBuffer(file.slice(0, 4));\n  }\n}\n\nexport function fileAsDataURL(file, onload) {\n  var reader = new FileReader();\n  reader.addEventListener('load', function () {\n    onload(reader.result);\n  }, false);\n  reader.readAsDataURL(file);\n}\n\nfunction processUrlLoad(url, el, success, error) {\n  if (loaded[url]) {\n    processLoaded();\n  } else {\n    el.id = ('id_' + Date.now() + Math.random()).replace('.', '');\n    el.onload = function() {\n      loaded[url] = {status: 2, id: el.id};\n      processLoaded();\n    };\n    el.onerror = function() {\n      loaded[url] = {status: 0};\n      $('head').find('#' + el.id).remove();\n      processLoaded();\n    };\n    loaded[url] = {status: 1};\n    document.getElementsByTagName('head')[0].appendChild(el);\n  }\n\n  function processLoaded() {\n    var {status} = loaded[url];\n    if (status == 1) { // pending\n      setTimeout(processLoaded, 500);\n    } else if (status == 2) {\n      success && success();\n    } else {\n      error && error();\n    }\n  }\n}\n\nexport function unloadHead(url) {\n  if (loaded[url]) {\n    $('head #' + loaded[url].id).remove();\n    loaded[url] = 0;\n  }\n}\n\nexport function loadJS(url, success, error) {\n  var el = document.createElement('script');\n  el.src = url;\n  processUrlLoad(url, el, success, error);\n}\n\nexport function loadCSS(url, success, error) {\n  var el = document.createElement('link');\n  el.rel = 'stylesheet';\n  el.href = url;\n  processUrlLoad(url, el, success, error);\n}\n\n\nexport function loadUrls(urls, kind, success, errorCb) {\n  var done = 0;\n  if (testArray(urls, success)) {\n    urls.forEach(function(url) {\n      (kind == 'css' ? loadCSS : loadJS)(url, function() {\n        done++;\n        if (done == urls.length) {\n          success();\n        }\n      }, errorCb);\n    });\n  }\n}\n\nfunction testArray(obj, otherwise) {\n  if (Array.isArray(obj) && obj.length) {\n    return true;\n  } else {\n    otherwise();\n  }\n}\n\nexport function loadJSCSS(urls, success, errorCb) {\n  var done = 0;\n  if (testArray(urls, success)) {\n    urls.forEach(function(url) {\n      (/\\.css(?:\\?.*)*$/.test(url) ? loadCSS : loadJS)(url, function() {\n        done++;\n        if (done == urls.length) {\n          success();\n        }\n      }, errorCb);\n    });\n  }\n}\n\nexport function loadAssets({urlSets, success, error, errMsg}) {\n  var done = 0;\n  if (testArray(urlSets, success)) {\n    loadNext();\n  }\n\n  function loadNext() {\n    let next = urlSets[done];\n    loadJSCSS(next, function() {\n      done++;\n      if (done == urlSets.length) {\n        success();\n      } else {\n        loadNext();\n      }\n    }, function() {\n      error(errMsg);\n    });\n  }\n}\n\n\nexport function loadImage({url, success, error, complete}) {\n  var img = new Image();\n  img.onload = function() {\n    success && success(img);\n    complete && complete(1, img);\n  };\n  img.onerror = function(...args) {\n    error && error(args);\n    complete && complete(0, args);\n  };\n  img.src = url;\n  return {\n    cancel: function() {\n      success = null;\n      error = null;\n      complete = null;\n    }\n  };\n}\n\n// list is either an array of URL strings or a jQuery collection\nexport function loadImages(list, done, progress) {\n  var count = 0;\n  var urls = list;\n  var result = {};\n  if (!(list && list.length)) {\n    return done();\n  }\n  if (list.jquery) {\n    urls = [];\n    list.each(function() {\n      urls.push($(this).attr('src'));\n    });\n  }\n  urls.forEach(function(item) {\n    var url = item.url || item;\n    loadImage({\n      url,\n      complete: function(code, data) {\n        count++;\n        result[item.id || url] = code ? {item, img: data} : {item, errors: data};\n        if (count == urls.length) {\n          let arr = [];\n          $.each(result, function(key, item) {\n            item.img && arr.push(item.img);\n          });\n          done(result, arr);\n        }\n        progress && progress(count / list.length);\n      }\n    });\n  });\n}\n\nexport function imageAJAX(opts) {\n  $.ajax({\n    type: 'GET',\n    url: opts.url,\n    error: opts.error,\n    success: opts.success,\n    complete: opts.complete,\n    beforeSend: function(jqXHR) {\n      if (opts.prog) {\n        jqXHR.onprogress = function(e) {\n          if (e.lengthComputable){\n            opts.prog((e.loaded / e.total * 100) || 0);\n          }\n        };\n      }\n    }\n  });\n}\n","export function getQsMap(opts) {\n  var {names, sep, values} = opts || {};\n  var pairs = (window.location.href.split('?')[1] || '').split('&');\n  var result = {};\n  pairs.forEach(function(pair) {\n    var [name, value] = pair.split('=');\n    name = decodeURIComponent(name);\n    value = decodeURIComponent(value);\n    if (name && value) {\n      value = sep ? value.split(sep) : value;\n      result[name] = value;\n    }\n  });\n  if (names) {\n    Object.keys(result).forEach(key => {\n      if (names.indexOf(key) < 0) {\n        delete result[key];\n      }\n    });\n  }\n  if (values) {\n    Object.keys(result).forEach(key => {\n      if (values[key] && values[key].indexOf(result[key]) < 0) {\n        delete result[key];\n      }\n    });\n  }\n  return result;\n}\n\nexport function getQs(name, opts) {\n  return getQsMap(opts)[name] || '';\n}\n\nexport function makeQs(params, question) {\n  var qs = '';\n  $.each(params, function(name, val) {\n    var isArray = Array.isArray(val);\n    if (val && (!isArray || val.length)) {\n      qs += (qs ? '&' : '') + encodeURIComponent(name) + '=' + encodeURIComponent(isArray ? val.join(',') : val);\n    }\n  });\n  return (question && qs) ? '?' + qs : qs;\n}\n\n// Obsolete. now use this: https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API\n// export function copyText(text) {\n//   let $body = $('body');\n//   let input = $('<input type=\"text\">').val(text)[0];\n//   $body.append(input);\n//   input.select();\n//   input.setSelectionRange(0, 99999);\n//   document.execCommand('copy');\n//   $(input).remove();\n// }\n","import {getProp} from 'setjs/utility/objects.js';\n\n// https://davidwalsh.name/javascript-debounce-function#comment-509154\n// Returns a function, that, as long as it continues to be invoked, will only\n// trigger every N milliseconds. If <code>immediate</code> is passed, trigger the\n// function on the leading edge, instead of the trailing.\nexport function throttle(func, wait = 250, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\n// https://davidwalsh.name/javascript-debounce-function\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nexport function debounce(func, wait = 250, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nexport function batchCall({success, error, progress}) {\n  var done = 0;\n  var result = {};\n  var calls = [];\n  var callManager = {\n    go,\n    add: function(func, opts, key, prop) {\n      calls.push({func, opts, key, prop});\n      return callManager;\n    },\n  };\n  return callManager;\n\n  function go() {\n    if (!calls.length) {\n      success(result);\n    }\n    calls.forEach(function(item) {\n      item.func($.extend({}, item.opts, {\n        error: function(errObj) {\n          typeof error == 'function' && error(errObj);\n          error = 1;\n        },\n        success: function(res) {\n          done++;\n          if (item.key) {\n            result[item.key] = item.prop ? getProp(item.prop, res) : res;\n          }\n          item.opts && item.opts.success && item.opts.success(res);\n          if (error != 1 && progress) {\n            progress({done, rem: calls.length - done, percent: Math.round(100 * done / calls.length)});\n          }\n          if (done == calls.length) {\n            success(result);\n          }\n        }\n      }));\n    });\n  }\n}\n\nexport function serialCall({condition, success, error}) {\n  var calls = [];\n  var callManager = {\n    go,\n    add: function(func, opts) {\n      calls.push({func, opts});\n      return callManager;\n    },\n  };\n  return callManager;\n\n  function go(...args) {\n    if (calls.length) {\n      if ((!condition || condition())) {\n        var item = calls.shift();\n        var opts = $.extend({success: go, error}, item.opts);\n        item.func(opts, ...args);\n      }\n    } else {\n      success && success();\n    }\n  }\n}\n","import {fatal} from 'setjs/kernel/basics.js';\n\nexport function storeItemByName(comp, name, item) {\n  if (name) {\n    if (comp[name]) {\n      fatal('Repeat name', name);\n    }\n    comp[name] = item;\n  }\n}\n\nexport function dataAttrFunc($el, dataName, func, excludeSelf) {\n  dataAttrFind($el, dataName, excludeSelf).each(function(i, item) {\n    var $item = $(item);\n    func($item, $item.data(dataName));\n  });\n}\n\nexport function dataAttrFind($el, dataName, excludeSelf) {\n  dataName = '[data-' + dataName + ']';\n  return excludeSelf ? $el.find(dataName) : $el.find(dataName).addBack(dataName);\n}\n","var id = 0;\n\nexport function uniqueId(prefix) {\n   id++;\n   return (prefix ? prefix.toString() : 0) + id;\n}\n\nexport function randomBool() {\n    return Math.random() >= 0.5;\n}\n\nexport function randInclusive(min, max) {\n   return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport function minMax(val, min, max) {\n   return Math.min(max, Math.max(min, val));\n}\n\nexport function guid() {\n  function _p8(s) {\n    var p = (Math.random().toString(16) + '000000000').substr(2,8);\n    return s ? '-' + p.substr(0, 4) + '-' + p.substr(4, 4) : p ;\n  }\n  return _p8() + _p8(true) + _p8(true) + _p8();\n}\n\n// https://stackoverflow.com/a/29101013/2211098\nexport function roundNum(value, decimals) {\n  return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);\n}\n\nexport function formatNumber(x) {\n  return x.toString().replace(/,/g, '').replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\n// https://stackoverflow.com/a/39466341/2211098\nexport function nth(n){\n  return n + (['st','nd','rd'][(n/10 % 10^1 && n%10) - 1] || 'th');\n}\n\n// var alphabet = '0123456789';\n\n// for (var i = 65; i < 91; i++) {\n//   alphabet += String.fromCharCode(i);\n//   alphabet += String.fromCharCode(i + 32);\n// }\n\n// export function randId(length) {\n//   var id = '';\n//   while (length--) {\n//     id += alphabet[randInclusive(0, alphabet.length - 1)];\n//   }\n//   return id;\n// }\n","function processType(path, val) {\n  var type = path.slice(-1);\n  if (path[path.length - 2] == ':') {\n    path = path.slice(0, -2);\n    if (type == 'n') {\n      val = +val;\n    } else if (type == 'b') {\n      val = !!val;\n    }\n  }\n  return {path, val};\n}\n\nfunction listIndex(str) {\n  if (str.length) {\n    if (isNaN(str)) {\n      return str;\n    } else {\n      return +str;\n    }\n  }\n}\n\nfunction parsePath(path) {\n  var parts = [];\n  var mark = 0;\n  var skip;\n  for (var i = 0; i < path.length; i++) {\n    if (skip) {\n      if (path[i] == ']') {\n        parts.push({list: 1, key: path.slice(mark, skip), index: listIndex(path.slice(skip + 1, i))});\n        mark = i + 1;\n        skip = 0;\n      }\n    } else if (path[i] == '[') {\n      skip = i;\n      if (!i) {\n        throw 'Bad object config ' + path;\n      }\n    } else if (path[i] == '.') {\n      addObj();\n      mark = i + 1;\n    }\n  }\n  addObj();\n  return parts;\n\n  function addObj() {\n    if (mark < i) {\n      parts.push({key: path.slice(mark, i)});\n    }\n  }\n}\n\nfunction resetItem(data, parts, key, config, index) {\n  var part = parts[index++];\n  if (index < parts.length) {\n    data = data[part];\n    if (Array.isArray(data)) {\n      data.forEach(function(listItem) {\n        resetItem(listItem, parts, key, config, index);\n      });\n    } else if (data) {\n      resetItem(data, parts, key, config, index);\n    }\n  } else {\n    if ('val' in config) {\n      data[part] = typeof config.val == 'function' ? config.val() : config.val;\n    } else if (config.arr) {\n      data[part] = [];\n    } else if (config.obj) {\n      data[part] = {};\n    } else {\n      delete data[part];\n    }\n  }\n}\n\nexport function resetObject(data, resets) {\n  $.each(resets, function(key, config) {\n    resetItem(data, key.split('.'), key, config, 0);\n  });\n}\n\nfunction partIndex(part, arr) {\n  return part.list ? part.index != null ? part.index : arr.length : null;\n}\n\nexport function storeValue(target, _path, _val) {\n  var {path, val} = processType(_path, _val);\n  var parts = parsePath(path);\n  var index;\n  parts.forEach(function(part, i) {\n    let end = i == parts.length - 1;\n    if (Array.isArray(target)) {\n      storeInArray(part, end);\n    } else {\n      storeInObject(part, end);\n    }\n    index = partIndex(part, target);\n  });\n\n  function storeInObject(part, end) {\n    let tmp = target[part.key];\n    if (part.list) {\n      tmp = Array.isArray(tmp) ? tmp : [];\n      if (end) {\n        tmp[partIndex(part, tmp)] = val;\n      }\n    } else {\n      if (end) {\n        tmp = val;\n      } else {\n        tmp = typeof tmp == 'object' ? tmp : {};\n      }\n    }\n    target = target[part.key] = tmp;\n  }\n\n  function storeInArray(part, end) {\n    let tmp = target[index];\n    if (part.list) {\n      if (part.key) {\n        if (typeof tmp != 'object') {\n          tmp = target[index] = {};\n        }\n        tmp = tmp[part.key] = Array.isArray(tmp[part.key]) ? tmp[part.key] : [];\n      } else {\n        tmp = target[index] = Array.isArray(tmp) ? tmp : [];\n      }\n      if (end) {\n        tmp[partIndex(part, tmp)] = val;\n      }\n    } else {\n      target[index] = tmp = typeof tmp == 'object' ? tmp : {};\n      if (end) {\n        tmp[part.key] = val;\n      } else {\n        tmp = tmp[part.key] = {};\n      }\n    }\n    target = tmp;\n  }\n}\n\nexport function copyObj(target, source, props) {\n  props.forEach(prop => {\n    storeValue(target, prop, getProp(prop, source));\n  });\n  return target;\n}\n\nexport function getProp(propPath, data, data2) {\n  let parts = propPath.split('.');\n  for (let j = 0; data && j < parts.length; j++) {\n    if (j == parts.length - 1 && Object.prototype.hasOwnProperty.call(data, parts[j])) {\n      return data[parts[j]];\n    }\n    data = data[parts[j]];\n  }\n  if (data2) {\n    return getProp(propPath, data2);\n  }\n}\n","export function capitalize(string) {\n   return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n//https://stackoverflow.com/a/8831937/2211098\n//https://github.com/darkskyapp/string-hash\nexport function getStrHash(str) {\n  var hash = 5381, i = (str && str.length) || 0;\n  while(i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n  return hash >>> 0;\n}\n\n/**\n * A simple solution to replace variables in templates\n * http://javascript.crockford.com/remedial.html\n * @param {string} string\n * @param {string} o\n * @return {string}\n */\nexport function supplant(string, o) {\n    return string.replace(/{([^{}]*)}/g,\n      function(a, b) {\n        var r = o,\n        parts = b.split('.');\n        for (var i = 0; r && i < parts.length; i++) {\n          r = r[parts[i]];\n        }\n        return typeof r === 'string' || typeof r === 'number' ? r : a;\n      }\n    );\n}\n\n/**\n * getInitials - Create initials from full name\n * @param {string} name - full name\n * @return {string} - The initials\n*/\nexport function getInitials(name) {\n  var initials;\n  try {\n    initials = name.toUpperCase().match(/\\b\\w/g);\n    if (initials.length > 1) {\n      initials = initials.shift() + initials.pop();\n    } else {\n      initials = initials.shift();\n    }\n  } catch (e) {\n    initials = name.charAt(0);\n  }\n\n  return initials;\n}\n\nexport function prettyTime(num) {\n    return (num < 10 ? '0' : '') + num;\n}\n\nexport function timeToText(ms) {\n    var total_seconds = ms / 1000;\n    var hours = Math.floor(total_seconds / 3600);\n    total_seconds = total_seconds % 3600;\n    var minutes = Math.floor(total_seconds / 60);\n    total_seconds = total_seconds % 60;\n    var seconds = Math.floor(total_seconds);\n\n    hours = prettyTime(hours);\n    minutes = prettyTime(minutes);\n    seconds = prettyTime(seconds);\n    return hours + ':' + minutes + ':' + seconds;\n}\n\n// https://medium.com/@mhagemann/the-ultimate-way-to-slugify-a-url-string-in-javascript-b8e4a0d849e1\nexport function slugify(string) {\n  const a = 'àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;';\n  const b = 'aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------';\n  const p = new RegExp(a.split('').join('|'), 'g');\n  return string.toString().toLowerCase()\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(p, c => b.charAt(a.indexOf(c))) // Replace special characters\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '') // Remove all non-word characters\n    .replace(/--+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import setup from 'config/setup.js';\nimport initialiseSetjs from 'core/setjs-init.js';\nimport initConfigurator from 'Configurator';\nimport loader from 'core/loader.js';\nimport {initTimeline} from 'core/timeliner.js';\n\nimport initNav from 'core/nav.js';\nimport triangles from 'helpers/triangles.js';\nimport domHelpers from 'helpers/dom-helpers';\n\nimport 'plugins/jquery/carousel.js';\n\nwindow.$win = $(window);\nwindow.$doc = $(document);\nwindow.$body = $('body');\n\n$(function() {\n  setup.init(APP_SETTINGS);\n  initialiseSetjs();\n  if ('scrollRestoration' in history) {\n    history.scrollRestoration = 'manual';\n  }\n  loader(function() {\n    loadTemplates();\n    initTimeline();\n    triangles();\n    domHelpers();\n    initNav();\n    initConfigurator();\n  });\n});\n\nfunction loadTemplates() {\n  let html = $('#page-templates').html();\n  $('#page-templates').remove();\n  $('body').append($(html).filter(function(i, el) {\n    return el.outerHTML && !$('#' + el.id).length;\n  }));\n}\n\n\n"],"names":["init","route","loadStart","preload","loading","loaded","unload","resize","scroll","view","wheel","lang","gdpr","user","setup","templateUrls","urls","map","x","timestamp","obj","$","each","key","value","useVideo","navigator","vendor","match","userAgent","getComp","opts","alertComp","oK","$root","remove","ok","no","cancel","$body","append","roundNum","$el","update","list","min","max","grow_by","step","double","decimals","restrict","range","rangeData","setupData","round","rangeComp","change","arg","val","setRange","Math","data","low_val","low_min","low_max","high_val","high_min","high_max","num","propList","dataVersion","getRangeConfig","hasUnits","indexOf","createItem","getArr","unit","getUnits","getProps","txt","addFuncs","hasProp","parent","prop","isArray","Array","perc","localeString","ts","Date","toLocaleString","setDefData","ensureTemplates","loadAssets","batchCall","easings","addProgressLinster","launchComp","success","add","now","urlSets","go","timelineUpdate","timeConfigs","renderList","forEach","config","id","progress","toFixed","length","setTimeout","updateWatches","addAction","showTimeline","showWaterfall","getTimeData","setTimeData","createDownloadUrl","timedata","URL","createObjectURL","Blob","JSON","stringify","type","download","comp","$downloadBtn","attr","href","click","closePanel","removeClass","panelFunc","func","file","e","target","files","reader","FileReader","onload","parse","result","readAsText","anime","resetTimeline","getWinHeight","previous","playTimeline","start","end","winHeight","height","$container","outerHeight","time","anim","targets","duration","easing","complete","$doc","scrollTop","offset","top","stopPlayer","full","field","rd","storeValue","getSequences","createRange","removeFromListByValue","alertBox","sequences","compData","dom","seq","props","item","setupRange","extend","document","scrollingElement","scrollHeight","$win","slotData","_","target_prop","items","editorComp","tabClick","addClass","siblings","find","eq","index","addProp","pd","push","hide","pComp","addItem","el","fields","removeItem","title","okTxt","noClose","message","splice","dex","addField","removeField","removeProp","toggleBrowser","currentVal","browser","hasClass","toggleView","toggleClass","unitChange","valChange","$lengthRange","pages","changeValue","path","sort","allAnims","getAnims","waterfallComp","filterBy","filter","rangeCss","css","left","width","changeStart","anims","diff","i","changeEnd","applyFilter","finish","ratio","maxEnd","expand","addAnims","concat","functions","actions","jqList","act","funcName","msg","name","val2","arguments","jqFuncs","onFunc","funcs","Object","keys","loadImages","imgAssets","videos","$progress","getImage","img","getVideo","done","imagesToLoad","url","bc","assets","images","animate","error","alert","imageLoader","videoLoader","prog","$vmVideo","on","readyState","disableTimelines","getHome","getScream","getStatic","fixSizes","allowScroll","$nav","navData","navProgress","navTimeline","timeline","autoplay","rotate","translateX","home","about","create","content","contact","production","page","ibiza","notfound","lastPage","window","onpopstate","handleRoute","navParams","seek","extension","preventDefault","history","pushState","closest","slide","location","pathname","replace","toggleMenu","deactivate","showPage","$dropdown","open","$page","$main","$intro","opacity","transform","$bg","$oldPage","slidePage","zIndex","displayPage","times","$detail","position","$others","not","background","bottom","triTop","delay","scale","activate","getNames","initSetjs","fixPath","pathStr","RegExp","test","getLink","subRoute","compUpdate","handleEvent","args","action","busy","stopPropagation","_e","originalEvent","changedTouches","$button","messageObj","cls","$formMsg","text","debounce","getVal","cssProps","progressListeners","bounds","getBoundingClientRect","listener","findIndex","createTimeline","resetTimelines","initTimeline","objTargets","createTargets","animObj","targetFields","getBrowserFlag","listItems","slice","isNaN","toArray","seqFields","mul","sField","containerWidth","addPath","path2d","str","points","char","join","Path2D","plus","r","d","w","y","getWinWidth","innerWidth","documentElement","clientWidth","body","innerHeight","clientHeight","fontSizes","carousel","$btn","$target","scrollY","factor","winWidth","style","maxHeight","floor","$wrapper","$parent","createSize","mediaSize","prefix","styles","res","getPath","inv","color","createSvg","black","timeliner","getEmotion","getEntrance","getCanvas","getStimulate","getStory","$home","emotion","entrance","homeCanvas","stimulate","story","off","lines","h","so","sd","eo","ed","createSentences","sentences","phrases","$sentence","appendTo","phrase","emotionVid","sentence","addSequence","top_black","m","emotion_show","paused","muted","play","pause","$entrance","$entranceImg","vid","nextParticle","empty","videoState","resetTime","currentTime","NextParticle","prompts","marginLeft","_progress","canvas","right","ctx","getContext","centerX","svgHeight","usain","top_white","clearRect","toggle","triScale","triCenter","save","translate","fillStyle","fill","clip","head","globalCompositeOperation","globalAlpha","drawImage","restore","setTransform","blackWidth","stimulateVid","$section","split","$words","fontSize","fitWordWidth","wordHeight","wTop","frac","word","firstOffset","secondOffset","addStep","translateY","$word","$screamPage","$theStory","$content","reveal","conceal","showText","opacityEaseInQuad","$slides","$carouselTop","outerWidth","$dots","createDots","select","dir","newIndex","$btns","children","fn","getProp","defData","fatal","info","extra","getPropDef","propPath","getDefData","dataForName","eventTypes","events","v","eventManager","raiseEvent","addListener","method","priority","hasData","removeListener","_args","unshift","p","pageOnly","addEventListeners","types","listeners","router","getQsMap","makeQs","setjs","currentRoute","oldRoute","skipRout","makeRoute","parts","pageId","slug","qs","baseRouteHandler","newRoute","fixedPath","setRoute","_skipRout","fire","setQs","qsObj","prevRoute","getRoute","reloadPage","setjsExt","startApp","$menuBtn","$found","$menu","slugify","capitalize","number","lowercase","toLowerCase","def","undefined","strList","suffix","wrap","toString","fixed","places","equal","other","testFlag","flag","bool","percent","ceil","negate","json","either","condition","val1","commaList","lowerCase","includes","inList","dump","html","log","console","t","gt","lt","plurify","singular","plural","pattern","processRoute","routeHandler","watchSet","Set","watchMap","WeakMap","getStatements","bindingStr","statements","opType","strip","escape","parseError","pushOp","o","s","createBindings","rdata","isIf","bindings","binding","funcBinding","statement","g","f","pushFunc","statementVal","groups","getBindingVal","runFuncs","applyText","param","apply","getGroupVal","processIf","dataIf","rComp","group","$next","next","nextUntil","runBinding","groupVal","applyBindings","ensureWatch","watch","get","acts","set","objChange","parentWatch","oldVal","newVal","newWatch","found","setupWatch","pAct","wAct","delete","cleanupWatch","has","defineProperty","processWatch","shift","size","applyWatch","bindEvents","storeItemByName","dataAttrFind","dataAttrFunc","configData","getConfigTemplate","tmpStr","getTemplate","processSlot","$item","slotConfig","forceReplace","slotComp","createComponent","replaceWith","listData","c","oldList","appendItem","alt","sub","$elements","itemData","k","itemComp","tf","createList","template","vars","templateStr","tmpRoot","$watchElements","$bindingElements","$actElements","$listElements","$selection","jquery","renderSlot","src","templateName","down","up","out","move","form","callerName","tId","subs","source","dataFunc","group1","group2","templates","doneUrls","loadTemplates","fail","extractHtml","elHtml","tName","inlineTemplates","selector","$children","tree","depth","parents","reverse","branch","$html","outerHTML","direction","a","b","removeFromList","prop1","prop2","shuffle","array","counter","temp","random","getUniqueList","unique","thing","obtain","prop3","randItem","randItems","count","spinIndex","limit","current","listOverlap","list1","list2","overlap","one","getFileMimeType","callback","File","FileList","filereader","evt","hex","prototype","call","Uint8Array","toUpperCase","reg","jpg","png","gif","ext","onerror","readAsArrayBuffer","fileAsDataURL","addEventListener","readAsDataURL","processUrlLoad","processLoaded","status","getElementsByTagName","appendChild","unloadHead","loadJS","createElement","loadCSS","rel","loadUrls","kind","errorCb","testArray","otherwise","loadJSCSS","errMsg","loadNext","loadImage","Image","code","errors","arr","imageAJAX","ajax","beforeSend","jqXHR","onprogress","lengthComputable","total","names","sep","values","pairs","pair","decodeURIComponent","getQs","params","question","encodeURIComponent","throttle","wait","immediate","timeout","context","later","callNow","clearTimeout","calls","callManager","errObj","rem","serialCall","dataName","excludeSelf","addBack","uniqueId","randomBool","randInclusive","minMax","guid","_p8","substr","Number","formatNumber","nth","n","processType","listIndex","parsePath","mark","skip","addObj","resetItem","part","listItem","resetObject","resets","partIndex","_path","_val","storeInArray","storeInObject","tmp","copyObj","data2","j","hasOwnProperty","string","charAt","getStrHash","hash","charCodeAt","supplant","getInitials","initials","pop","prettyTime","timeToText","ms","total_seconds","hours","minutes","seconds","initialiseSetjs","initConfigurator","loader","initNav","triangles","domHelpers","APP_SETTINGS","scrollRestoration"],"sourceRoot":""}